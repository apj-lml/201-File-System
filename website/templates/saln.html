{% extends 'base.html' %}

{% block title %} SALN {% endblock %}

{%block cssperfile %} 
<style type="text/css">
	div.dtsb-searchBuilder div.dtsb-titleRow {
    	display: none;
}

.truncate {
  max-width:150px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

body{
  padding-left: 50px;
  padding-right: 50px;
  padding-bottom: 50px;
}

th{
  text-align: center;
}
td{
  text-align: left;
}
</style>
<link href="{{ url_for('static', filename='movingBg.css') }}" rel="stylesheet">

{% endblock %}

{% block content %}
<main class="mt-4 mb-5">
  <ul class="circles">
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li> 
    <li></li>
    <li></li>
    <li></li>
  </ul>
  <!-- ----------------------------------------------------------------------- -->
  <!--                         WORK EXPERIENCE                                 -->
  <!-- ----------------------------------------------------------------------- -->
  <div class="row mt-5 mb-5">
    <div class="card">
        <div class="card-body">
          <!-- <div class="card text-white bg-blue shadow-sm mb-2" > -->
              <!-- <div class="card-header"><h3 class="card-title"><i class="bi bi-journals"></i> Statement of Assets, Liabilities, and Net Worth (SALN) </h3> <button onclick="print_saln()">print</button> </div> -->
              <!-- <div class="card-body">
                <h5 class="card-title">Note</h5>
                <ul>
                  <li><p class="card-text">Husband and wife who are both public officials and employees may file the required statements jointly or separately.</p></li>
                  <li><p class="card-text">Check the PRESENT checkbox to indicate that you are currently employed.</p></li>
                </ul>
              </div> -->

					  <!-- </div> -->
          
          <div class="row">
            <div class="col-md-12">
              <div class="card shadow-sm mb-2">
                <div class="card-header bg-blue text-white">
                  <h5 class="mb-0">
                    <!-- <i class="fas fa-user-friends"></i> -->
                    <h3 class="card-title"><i class="bi bi-journals"></i> Statement of Assets, Liabilities, and Net Worth (SALN) <button onclick="print_saln()">print</button> </h3> 
                  </h5>
                </div>

                  <div class="card-body">
                    <div class="d-md-flex flex-row">
                      <div class="mb-2 col-sm-12 col-md-4 px-1">
                        <label for="rp_kind">DATE OF FILING</label>
                        <input type="date" class="form-control" id="filing_date" name="filing_date" placeholder="" form="" required>
                      </div>
                      <div class="mb-2 col-sm-12 col-md-4 px-1">
                        <label for="filing_type">TYPE OF FILING</label>
                        <select class="form-select" id="filing_type" name="filing_type" onchange="" value="" form="">
                          <option value="not_applicable" selected>NOT APPLICABLE</option>
                          <option value="joint_filing">JOINT FILING</option>
                          <option value="separate_filing">SEPARATE FILING</option>
                        </select>
                      <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*Husband and wife who are both public officials and employees may file the required statements jointly or separately.</p></small>

                      </div>
                      
                    </div>
                  </div>
                </div>
              </div>
            <div class="col-md-12">
            <form action="#" method="POST" name="saln_rp_form" id="saln_rp_form" enctype="multipart/form-data"></form>
              <div class="card shadow-sm mb-2">
                <div class="card-header bg-blue text-white">
                  <h5 class="mb-0">
                    <i class="fas fa-city"></i>
                    REAL PROPERTIES
                    <!-- <i class="fas fa-info-circle" 
                        style="font-size: 15px;"
                        data-bs-toggle="popover" 
                        title="Notice!" 
                        data-bs-trigger="hover focus" 
                        data-bs-content="Including those of the spouse and unmarried children below eighteen (18) years of age living in declarant’s household">
                    </i> -->
                  </h5>
                </div>
                  <div class="card-body">
                    <div class="alert alert-warning" role="alert">
                      <i class="fas fa-info-circle"></i> Including those of the spouse and unmarried children below eighteen (18) years of age living in declarant’s household
                    </div>
                    <div class="d-md-flex flex-row">
                      <div class="mb-2 flex-fill px-1">
                        <label for="rp_description">DESCRIPTION</label>
                        <input type="text" class="form-control" id="rp_description" name="rp_description" placeholder="" form="saln_rp_form" required>
                        <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*e.g. lot, house and lot, condominium and improvements.</p></small>
                      
                      </div>
                      <div class="mb-2 flex-fill px-1">
                        <label for="rp_kind">KIND</label>
                        <input type="text" class="form-control" id="rp_kind" name="rp_kind" placeholder="" form="saln_rp_form" required>
                        <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*e.g. residential, commercial, industrial, agricultural and mixed use</p></small>
                      </div>
                    </div>
                    <div class="d-md-flex flex-row">
                      <div class="mb-2 flex-fill px-1">
                        <label for="rp_exact_location">EXACT LOCATION</label>
                        <input type="text" class="form-control" id="rp_exact_location" name="rp_exact_location" placeholder="" form="saln_rp_form" required>
                      </div>
                    </div>

                    <div class="d-md-flex flex-row">
                      <div class="mb-2 flex-fill px-1">
                        <label for="rp_assessed_value">ASSESSED VALUE</label>
                        <input type="text" class="form-control trailing-decimal-input" id="rp_assessed_value" name="rp_assessed_value" placeholder="" form="saln_rp_form" required>
                        <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*As found in the Tax Declaration of Real Property.</p></small>

                      </div>
                      <div class="mb-2 flex-fill px-1">
                        <label for="rp_current_makret_value">CURRENT FAIR MARKET VALUE</label>
                        <input type="text" class="form-control trailing-decimal-input" id="rp_current_market_value" name="rp_current_market_value" placeholder="" form="saln_rp_form" required>
                        <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*As found in the Tax Declaration of Real Property.</p></small>

                      </div>
                    </div>

                    <div class="d-md-flex flex-row">
                      <div class="mb-2 flex-fill px-1">
                        <label for="rp_acquisition_year">ACQUISITION YEAR</label>
                        <input type="number" class="form-control" id="rp_acquisition_year" name="rp_acquisition_year" placeholder="" form="saln_rp_form" oninput="year_only(this)" required>
                        <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*Input year only [eg. 2023]</p></small>

                      </div>
                      <div class="mb-2 flex-fill px-1">
                        <label for="rp_acquisition_mode">ACQUISITION MODE</label>
                        <input type="text" class="form-control" id="rp_acquisition_mode" name="rp_acquisition_mode" placeholder="" form="saln_rp_form" required>
                      </div>
                      <div class="mb-2 flex-fill px-1">
                        <label for="rp_acquisition_cost">ACQUISITION COST</label>
                        <input type="text" class="form-control trailing-decimal-input" id="rp_acquisition_cost" name="rp_acquisition_cost" placeholder="" form="saln_rp_form" required>
                      </div>
                    </div>

                    <div class="col-sm-12 text-center">
                      <button type="submit" class="btn btn-primary btn-sm" form="saln_rp_form"><i class="fas fa-plus"></i> Add Real Properties</button>
                      <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#viewRealProperty"><i class="fas fa-eye"></i> View Real Property</button>
                    </div>

                  </div>
              </div>
            </div>


            <div class="col-md-12">
              <form action="#" method="POST" name="saln_pp_form" id="saln_pp_form" enctype="multipart/form-data"></form>
              <div class="card shadow-sm mb-2">
                <div class="card-header bg-blue text-white">
                  <h5 class="mb-0">
                    <i class="fas fa-luggage-cart"></i>
                    PERSONAL PROPERTIES
                  </h5>
                </div>
                  <div class="card-body">
                    <div class="alert alert-warning" role="alert">
                      <i class="fas fa-info-circle"></i> Including those of the spouse and unmarried children below eighteen (18) years of age living in declarant’s household
                    </div>
                    <div class="d-md-flex flex-row">
                      <div class="mb-2 flex-fill px-1">
                        <label for="pp_description">DESCRIPTION</label>
                        <input type="text" class="form-control" id="pp_description" name="pp_description" placeholder="" form="saln_pp_form" required>
                      </div>
                    </div>
                    <div class="d-md-flex flex-row">
                      <div class="mb-2 flex-fill px-1">
                        <label for="pp_year_acquired">YEAR ACQUIRED</label>
                        <input type="text" class="form-control" id="pp_year_acquired" name="pp_year_acquired" placeholder="" form="saln_pp_form" onchange="year_only(this)" required>
                        <!-- <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*Input "VARIOUS YEARS" or year only [eg. 2023]</p></small> -->
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" id="various_years" name="various_years" onchange="variousYears(this)">
                          <label class="form-check-label" for="various_years">
                            VARIOUS YEARS
                          </label>
                          </div>
                      </div>
                    </div>
                    <div class="d-md-flex flex-row">
                      <div class="mb-2 flex-fill px-1">
                        <label for="pp_acquisition_cost">ACQUISITION COST / AMOUNT</label>
                        <input type="text" class="form-control trailing-decimal-input" id="pp_acquisition_cost" name="pp_acquisition_cost" placeholder="" form="saln_pp_form" required>
                      </div>
                    </div>

                    <div class="col-sm-12 text-center">
                      <button type="submit" class="btn btn-primary btn-sm" form="saln_pp_form"><i class="fas fa-plus"></i> Add</button>
                    </div>

                  </div>
              </div>
            </div>
          </div>


          <div class="col-md-12">
          <form action="#" method="POST" name="saln_liability_form" id="saln_liability_form" enctype="multipart/form-data"></form>
            <div class="card shadow-sm mb-2">
              <div class="card-header bg-blue text-white">
                <h5 class="mb-0">
                  <i class="fas fa-credit-card"></i>
                  LIABILITIES
                  <!-- <i class="fas fa-info-circle" 
                      style="font-size: 15px;"
                      data-bs-toggle="popover" 
                      title="Notice!" 
                      data-bs-trigger="hover focus" 
                      data-bs-content="Including those of the spouse and unmarried children below eighteen (18) years of age living in declarant’s household">
                  </i> -->
                </h5>
              </div>
                <div class="card-body">
                  <div class="alert alert-warning" role="alert">
                    <i class="fas fa-info-circle"></i> Including those of the spouse and unmarried children below eighteen (18) years of age living in declarant’s household
                  </div>
                  <div class="d-md-flex flex-row">
                    <div class="mb-2 flex-fill px-1">
                      <label for="liability_nature">NATURE</label>
                      <input type="text" class="form-control" id="liability_nature" name="liability_nature" form="saln_liability_form" placeholder="" required>
                    </div>
                    <div class="mb-2 flex-fill px-1">
                      <label for="liability_creditor">NAME OF CREDITORS</label>
                      <input type="text" class="form-control" id="liability_creditor" name="liability_creditor" form="saln_liability_form" placeholder="" required>
                    </div>
                    <div class="mb-2 flex-fill px-1">
                      <label for="liability_outstanding_balance">OUTSTANDING BALANCE</label>
                      <input type="text" class="form-control trailing-decimal-input" id="liability_outstanding_balance" name="liability_outstanding_balance" form="saln_liability_form" placeholder="" required>
                    </div>
                  </div>
                  <div class="col-sm-12 text-center my-auto">
                    <button type="submit" class="btn btn-primary btn-sm" form="saln_liability_form"><i class="fas fa-plus"></i> Add</button>
                  </div>
                </div>
            </div>
          </div>


          <div class="col-md-12">
          <form action="#" method="POST" name="saln_business_interest_form" id="saln_business_interest_form" enctype="multipart/form-data"></form>
            <div class="card shadow-sm mb-2">
              <div class="card-header bg-blue text-white">
                <h5 class="mb-0">
                  <i class="fas fa-sitemap"></i>
                  BUSINESS INTERESTS AND FINANCIAL CONNECTIONS
                  <!-- <i class="fas fa-info-circle" 
                      style="font-size: 15px;"
                      data-bs-toggle="popover" 
                      title="Notice!" 
                      data-bs-trigger="hover focus" 
                      data-bs-content="Including those of the spouse and unmarried children below eighteen (18) years of age living in declarant’s household">
                  </i> -->
                </h5>
              </div>
                <div class="card-body">
                  <div class="alert alert-warning" role="alert">
                    <i class="fas fa-info-circle"></i> Business Interest and Financial Connections of Declarant /Declarant’s spouse/ Unmarried Children Below Eighteen (18) years of Age Living in Declarant’s Household
                  </div>
                  <div class="d-md-flex flex-row">
                    <div class="mb-2 flex-fill px-1">
                      <label for="business">NAME OF ENTITY/BUSINESS ENTERPRISE</label>
                      <input type="text" class="form-control" id="business" name="business" placeholder="" form="saln_business_interest_form" required>
                    </div>
                  </div>
                  <div class="d-md-flex flex-row">
                    <div class="mb-2 flex-fill px-1">
                      <label for="business_address">BUSINESS ADDRESS</label>
                      <input type="text" class="form-control" id="business_address" name="business_address" placeholder="" form="saln_business_interest_form"  required>
                    </div>
                  </div>

                  <div class="d-md-flex flex-row flex-gap">
                    <div class="mb-2 flex-fill px-1">
                      <label for="business_nature">NATURE OF BUSINESS INTEREST &/OR FINANCIAL CONNECTION</label>
                      <input type="text" class="form-control" id="business_nature" name="business_nature" placeholder="" form="saln_business_interest_form"  required>
                    </div>
                    <div class="mb-2 flex-fill px-1">
                      <label for="creditor">DATE OF ACQUISITION OF INTEREST OR CONNECTION</label>
                      <input type="text" class="form-control" id="business_acquisition" name="business_acquisition" placeholder="" form="saln_business_interest_form"  required>
                    </div>
                  </div>

                  <div class="col-sm-12 text-center my-auto">
                    <button type="submit" class="btn btn-primary btn-sm" form="saln_business_interest_form"><i class="fas fa-plus"></i> Add</button>
                  </div>

                </div>
            </div>
          </div>


          <div class="col-md-12">
          <form action="#" method="POST" name="saln_relative_in_government_form" id="saln_relative_in_government_form" enctype="multipart/form-data"></form>
            <div class="card shadow-sm mb-2">
              <div class="card-header bg-blue text-white">
                <h5 class="mb-0">
                  <i class="fas fa-people-arrows"></i>
                  RELATIVES IN THE GOVERNMENT SERVICE
                  <!-- <i class="fas fa-info-circle" 
                      style="font-size: 15px;"
                      data-bs-toggle="popover" 
                      title="Notice!" 
                      data-bs-trigger="hover focus" 
                      data-bs-content="Including those of the spouse and unmarried children below eighteen (18) years of age living in declarant’s household">
                  </i> -->
                </h5>
              </div>
                <div class="card-body">
                  <div class="alert alert-warning" role="alert">
                    <i class="fas fa-info-circle"></i> Within the Fourth Degree of Consanguinity or Affinity. Include also Bilas, Balae and Inso
                  </div>
                  <div class="d-md-flex flex-row">
                    <div class="mb-2 flex-fill px-1">
                      <label for="relative_name">NAME OF RELATIVE</label>
                      <input type="text" class="form-control" id="relative_name" name="relative_name" placeholder="" form="saln_relative_in_government_form" required>
                    </div>
                  </div>
                  <div class="d-md-flex flex-row">
                    <div class="mb-2 flex-fill px-1">
                      <label for="relative_relationship">RELATIONSHIP</label>
                      <input type="text" class="form-control" id="relative_relationship" name="relative_relationship" placeholder="" form="saln_relative_in_government_form" required>
                    </div>
                    <div class="mb-2 flex-fill px-1">
                      <label for="relative_position">POSITION</label>
                      <input type="text" class="form-control" id="relative_position" name="relative_position" placeholder="" form="saln_relative_in_government_form" required>
                    </div>
                  </div>

                  <div class="d-md-flex flex-row flex-gap">

                    <div class="mb-2 flex-fill px-1">
                      <label for="relative_agency_office">NAME OF AGENCY/OFFICE</label>
                      <input type="text" class="form-control" id="relative_agency_office" name="relative_agency_office" placeholder="" form="saln_relative_in_government_form" required>
                    </div>
                  </div>
                  <div class="mb-2 flex-fill px-1">
                    <div class="mb-2 flex-fill px-1">
                      <label for="relative_agency_office_address">AGENCY/OFFICE ADDRESS</label>
                      <input type="text" class="form-control" id="relative_agency_office_address" name="relative_agency_office_address" placeholder="" form="saln_relative_in_government_form" required>
                    </div>
                  </div>
                  <div class="col-sm-12 text-center my-auto">
                    <button type="submit" class="btn btn-primary btn-sm" form="saln_relative_in_government_form"><i class="fas fa-plus"></i> Add</button>
                  </div>

                </div>
            </div>
          </div>


        </div>


        </div>
    </div>
	</div>


</main>


<!-- Modal -->
<div class="modal fade" id="viewRealProperty" tabindex="-1" aria-labelledby="viewRealPropertyModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">
      <div class="modal-header bg-blue text-white">
        <h5 class="modal-title" id="viewRealPropertyModalLabel"><i class="fas fa-eye"></i> View Real Properties</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="col-sm-12">
          <div class="table-responsive">
            <table class="table table-striped table-bordered text-left" id="ld_table" width = "100%">
              <!-- <colgroup>
                <col style="width: 5%" />
                <col style="width: 30%" />
                <col style="width: 14.28%" />
                <col style="width: 14.28%" />
                <col style="width: 10%" />
                <col style="width: 14.28%" />
                <col style="width: 20%" />
                <col style="width: 14.28%" />
                <col style="width: 14.28%" />
                <col style="width: 14.28%" />
              </colgroup> -->
              <thead class="">
              <tr class="align-middle">
                <th scope="col">ID</th>
                <th scope="col">DESCRIPTION</th>
                <th scope="col">KIND</th>
                <th scope="col">EXACT LOCATION</th>
                <th scope="col">ASSESSED VALUE</th>
                <th scope="col">CURRENT FAIR MARKET VALUE</th>
                <th scope="col">ACQUISITION YEAR</th>
                <th scope="col">ACQUISITION MODE</th>
                <th scope="col">ACQUISITION COST</th>
                <th scope="col">CONTROLS</th>
              </tr>
              </thead>
              <tbody>

                  <tr>
                    {% for realProperty in user_profile.real_property %}
                      <td>{{ realProperty.id }}</td>
                      <td>{{ realProperty.rp_description }}</td>
                      <td>{{ realProperty.rp_kind }}</td>
                    {% endfor %}
                  </tr>

              </tbody>
            </table>
          </div>
      </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

{% endblock %}

{%block scripts%}

<script type="text/javascript">

  (function() {
    document.getElementById('filing_date').valueAsDate = new Date();
 })();

$('.trailing-decimal-input').on('change', function (e) {
var intRegex = /^\d+$/;
var floatRegex = /^((\d+(\.\d *)?)|((\d*\.)?\d+))$/;
if(intRegex.test($(this).val().replace(/,/gi, "")) || floatRegex.test($(this).val().replace(/,/gi, ""))) {
    var num = $(this).val().replace(/,/gi, "");
    var float_num = parseFloat(num);
    var final = parseFloat((float_num).toFixed(2)).toLocaleString("en-EN",{
      minimumFractionDigits: 2,
      maximumFractionDigits: 2 });
      
    $(this).val(final);
  
}else{
  $(this).val("")
}

});

function formatDate(date) {
  date = new Date(date);
  var year = date.getFullYear();
  var month = (date.getMonth() + 1).toString().padStart(2, '0');
  var day = date.getDate().toString().padStart(2, '0');
  return `${year}-${month}-${day}`;
}


function print_saln(){
  var filing_date = document.getElementById('filing_date');
  var filing_type = document.getElementById('filing_type');
  var date_filing = new Date(filing_date.value);
  var formatted_date_filing = date_filing.toLocaleDateString("en-US");
  fetch('/saln/print/{{user_profile.id}}/'+formatDate(formatted_date_filing)+'/'+filing_type.value, {
    method: 'GET',
    }).then((res)=>{
      if (res.status == 200){
        triggerToast("SALN is now downloading...!", 'success')
      }
      return res.blob()
    
    }).then((data)=>{

      // Create a Blob with the content
      const blob = new Blob([data], { type: "application/vnd.openxmlformats-officedocument.wordprocessingml.document" });

      // Create a download link
      const downloadLink = document.createElement("a");
      downloadLink.href = URL.createObjectURL(blob);
      downloadLink.download = "document.docx"; // Replace with your desired file name

      // Trigger a click event on the link to start the download
      downloadLink.click();

      // Clean up the URL object after download
      URL.revokeObjectURL(downloadLink.href);
    });//END

}

function variousYears(el){
  var pp_year_acquired = document.getElementById('pp_year_acquired');
  if (el.checked){
    pp_year_acquired.value = "VARIOUS YEARS";
    pp_year_acquired.readOnly = true;
  }else{
    pp_year_acquired.value = "";
    pp_year_acquired.readOnly = false;
  }

}


function year_only (el) {
  const inputString = el.value;
  const cleanedString = inputString.replace(/\s+/g, ' ').trim();
  console.log(cleanedString.toLowerCase())
  if(cleanedString.toLowerCase() != "various years"){
    if (el.value.length != 4 ) {
      //el.value = el.value.slice(0,4); 
      el.value = ""; 

      triggerToast('Please input "VARIOUS YEARS" or year only!', 'warning');
    }
  }else{

  }
}


document.getElementById('saln_rp_form').addEventListener("submit", (e)=>{
  e.preventDefault();

  let formData1 = new FormData(e.target);

  const data1 = {}
  formData1.forEach((value, key) => (data1[key] = value));

  fetch('/saln/add-rp/{{user_profile.id}}', {
    method: 'POST',
    body: formData1
    }).then((res)=>{
      if (res.status == 200){
        triggerToast("Successfully Added Real Property!", 'success')

      }
      return res.json()
    
    }).then((data)=>{


    });//END


})


document.getElementById('saln_pp_form').addEventListener("submit", (e)=>{ 
  e.preventDefault();

  let formData1 = new FormData(e.target);

  const data1 = {}
  formData1.forEach((value, key) => (data1[key] = value));

  fetch('/saln/add-pp/{{user_profile.id}}', {
    method: 'POST',
    body: formData1
    }).then((res)=>{
      if (res.status == 200){
        triggerToast("Successfully Added Personal Property!", 'success')

      }
      return res.json()
    
    }).then((data)=>{


    });//END

})


document.getElementById('saln_liability_form').addEventListener("submit", (e)=>{
  e.preventDefault();

  let formData1 = new FormData(e.target);

  const data1 = {}
  formData1.forEach((value, key) => (data1[key] = value));

  fetch('/saln/add-liability/{{user_profile.id}}', {
    method: 'POST',
    body: formData1
    }).then((res)=>{
      if (res.status == 200){
        triggerToast("Successfully Added Liability!", 'success')

      }
      return res.json()
    
    }).then((data)=>{


    });//END

})

document.getElementById('saln_business_interest_form').addEventListener("submit", (e)=>{
  e.preventDefault();

  let formData1 = new FormData(e.target);

  const data1 = {}
  formData1.forEach((value, key) => (data1[key] = value));

  fetch('/saln/add-business-interest/{{user_profile.id}}', {
    method: 'POST',
    body: formData1
    }).then((res)=>{
      if (res.status == 200){
        triggerToast("Successfully Added Business Interest & Financial Connection!", 'success')
      }
      return res.json()
    
    }).then((data)=>{


    });//END

})

document.getElementById('saln_relative_in_government_form').addEventListener("submit", (e)=>{
  e.preventDefault();

  let formData1 = new FormData(e.target);

  const data1 = {}
  formData1.forEach((value, key) => (data1[key] = value));

  fetch('/saln/add-relative-in-government/{{user_profile.id}}', {
    method: 'POST',
    body: formData1
    }).then((res)=>{
      if (res.status == 200){
        triggerToast("Successfully Added Relative in Government!", 'success')
      }
      return res.json()
    
    }).then((data)=>{


    });//END

})

</script>
{%endblock%}