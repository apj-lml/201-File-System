{% extends 'base.html' %}

{% block title %} SALN {% endblock %}

{%block cssperfile %} 
<style type="text/css">
	div.dtsb-searchBuilder div.dtsb-titleRow {
    	display: none;
}

.truncate {
  max-width:150px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.card {
  border: 0;
}

th{
  text-align: center;
}
td{
  text-align: left;
}
</style>
<link href="{{ url_for('static', filename='movingBg.css') }}" rel="stylesheet">

{% endblock %}

{% block content %}
<main class="container-fluid mt-3">
  <div class="row mb-3">
    <!-- <div class="card"> -->
        <div class="card-body">
          <div class="row">
            <div class="col-md-12">
              <div class="card shadow-sm mb-2">
                <div class="card-header bg-blue text-white">
                  <h5 class="mb-0">
                    <h3 class="card-title text-white fw-bolder text-center">SWORN STATEMENT OF ASSETS, LIABILITIES, AND NETWORTH (SALN) </h3> 
                  </h5>
                </div>
                  <div class="card-body">
                    <div class="d-md-flex flex-row">
                      <div class="mb-2 col-sm-12 col-md-4 px-1">
                        <label for="filing_date">DATE OF FILING</label>
                        <input type="date" class="form-control form-control-sm" id="filing_date" name="filing_date" placeholder="" form="" required>
                      </div>
                      <div class="mb-2 col-sm-12 col-md-4 px-1">
                        <label for="filing_type">TYPE OF FILING</label>
                        <select class="form-select form-select-sm" id="filing_type" name="filing_type" onchange="" value="" form="">
                          <option value="not_applicable" selected>NOT APPLICABLE</option>
                          <option value="joint_filing">JOINT FILING</option>
                          <option value="separate_filing">SEPARATE FILING</option>
                        </select>
                      <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*Husband and wife who are both public officials and employees may file the required statements jointly or separately.</p></small>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-12">
                <div class="card shadow-sm mb-2">
                  <div class="card-header bg-blue text-white">
                    <h4 class="mb-0 fw-bolder text-white">
                      <i class="bi bi-journals"></i> ASSETS, LIABILITIES AND NETWORTH
                    </h4>
                  </div>
                  <div class="card-body">
                    <div class="alert alert-warning" role="alert">
                      <i class="fas fa-info-circle"></i> Including those of the spouse and unmarried children below eighteen (18) years of age living in declarantâ€™s household
                    </div>

                      <h5 class="fw-bolder">1. ASSETS</h5>
                        <form action="#" method="POST" name="saln_rp_form" id="saln_rp_form" enctype="multipart/form-data">
                          <div class="card shadow-sm mb-2">
                            <div class="card-header bg-blue text-white">
                              <h5 class="mb-0 text-white">
                                a. Real Properties
                              </h5>
                            </div>
                              <div class="card-body">
                                <div class="row">
                                  <div class="col-sm-8">
                                    <div class="d-md-flex flex-row">
                                      <div class="mb-2 flex-fill px-1">
                                        <label for="rp_description">DESCRIPTION</label>
                                        <input type="text" class="form-control form-control-sm" id="rp_description" name="rp_description" placeholder="" form="saln_rp_form" required>
                                        <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*e.g. lot, house and lot, condominium or an improvement such as an extension or garage,
                                          and the like.</p></small>
                                      
                                      </div>
                                      <div class="mb-2 flex-fill px-1">
                                        <label for="rp_kind">KIND</label>
                                        <input type="text" class="form-control form-control-sm" id="rp_kind" name="rp_kind" placeholder="" form="saln_rp_form" required>
                                        <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*e.g. residential, commercial, industrial, agricultural and mixed use</p></small>
                                      </div>
                                    </div>
                                    <div class="d-md-flex flex-row">
                                      <div class="mb-2 flex-fill px-1">
                                        <label for="rp_exact_location">EXACT LOCATION</label>
                                        <input type="text" class="form-control form-control-sm" id="rp_exact_location" name="rp_exact_location" placeholder="" form="saln_rp_form" required>
                                      </div>
                                    </div>
                
                                    <div class="d-md-flex flex-row">
                                      <div class="mb-2 flex-fill px-1">
                                        <label for="rp_assessed_value">ASSESSED VALUE</label>
                                        <input type="text" class="form-control form-control-sm trailing-decimal-input" id="rp_assessed_value" name="rp_assessed_value" placeholder="" form="saln_rp_form" required>
                                        <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*As found in the Tax Declaration of Real Property.</p></small>
                
                                      </div>
                                      <div class="mb-2 flex-fill px-1">
                                        <label for="rp_current_makret_value">CURRENT FAIR MARKET VALUE</label>
                                        <input type="text" class="form-control form-control-sm trailing-decimal-input" id="rp_current_market_value" name="rp_current_market_value" placeholder="" form="saln_rp_form" required>
                                        <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*As found in the Tax Declaration of Real Property.</p></small>
                
                                      </div>
                                    </div>
                
                                    <div class="d-md-flex flex-row">
                                      <div class="mb-2 flex-fill px-1">
                                        <label for="rp_acquisition_year">ACQUISITION YEAR</label>
                                        <input type="number" class="form-control form-control-sm" id="rp_acquisition_year" name="rp_acquisition_year" placeholder="" form="saln_rp_form" oninput="year_only_2(this)" required>
                                        <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*Input year only [eg. 2023]</p></small>
                
                                      </div>
                                      <div class="mb-2 flex-fill px-1">
                                        <label for="rp_acquisition_mode">ACQUISITION MODE</label>
                                        <input type="text" class="form-control form-control-sm" id="rp_acquisition_mode" name="rp_acquisition_mode" placeholder="" form="saln_rp_form" required>
                                      </div>
                                      <div class="mb-2 flex-fill px-1">
                                        <label for="rp_acquisition_cost">ACQUISITION COST</label>
                                        <input type="text" class="form-control form-control-sm trailing-decimal-input" id="rp_acquisition_cost" name="rp_acquisition_cost" placeholder="" form="saln_rp_form" required>
                                      </div>
                                    </div>
                
                                    <div class="col-sm-12 text-center mt-2">
                                      <button type="submit" class="btn btn-primary btn-sm mb-2" form="saln_rp_form"><i class="fas fa-plus"></i> Add Real Properties</button>
                                      <!-- <button type="button" class="btn btn-primary btn-sm mb-2" data-bs-toggle="modal" data-bs-target="#viewRealProperty"><i class="fas fa-eye"></i> View Real Property</button> -->
                                    </div>
                                      <div class="col-sm-12">
                                        <div class="table-responsive">
                                          <table class="table table-striped table-bordered text-left" id="rp_table" width = "100%">
                                            <thead class="">
                                            <tr class="align-middle">
                                              <th scope="col">ID</th>
                                              <th scope="col">DESCRIPTION</th>
                                              <th scope="col">KIND</th>
                                              <th scope="col">EXACT LOCATION</th>
                                              <th scope="col">ASSESSED VALUE</th>
                                              <th scope="col">CURRENT FAIR MARKET VALUE</th>
                                              <th scope="col">ACQUISITION YEAR</th>
                                              <th scope="col">ACQUISITION MODE</th>
                                              <th scope="col">ACQUISITION COST</th>
                                              <th scope="col">CONTROLS</th>
                                            </tr>
                                            </thead>
                                            <tbody>
      
                                            </tbody>
                                          </table>
                                        </div>
                                      </div>
                                  </div>
                                  <div class="col-md-4">
                                    <div class="card shadow-sm mb-2 h-100">
                                        <div class="card-header bg-blue text-white">
                                          <h5 class="mb-0 text-white">
                                            <i class="bi bi-info-square"></i> Read me!
                                          </h5>
                                        </div>
                                        <div class="card-body">
                                          <ol class="d-grid gap-3">
                                            <li>
                                              Please indicate the <b>DESCRIPTION</b>, <b>KIND</b>, and <b>EXACT LOCATION</b> of
                                              the real property. <br><b>EXACT LOCATION</b> is defined as at least the
                                              barangay, town/city and provincial address where the property is
                                              located.
                                            </li>
                                            <li>
                                              The declarant shall indicate a description of the real properties,
                                              whether it is a land only or land with building, a house and lot,
                                              condominium unit, or an improvement such as an extension or garage,
                                              and the like.
                                            </li>
                                            <li>
                                              Improvements refer to all works that are constructed or introduced to
                                              the land, or repairs or improvements made to the land or building after
                                              its initial acquisition.
                                            </li>
                                            <li>
                                              For the <u>mode of acquisition</u> of your property, please use the
                                              following terms as to what is appropriate; <b>PURCHASE</b>, <b>DONATION</b>,
                                              <b>INHERITANCE</b>, <b>CONSTRUCTION</b>, <b>TRUST</b>, <b>MORTGAGE</b> or <b>EXCHANGE</b>.
                                            </li>
                                            <li>
                                              For the <b>CURRENT FAIR MARKET VALUE</b> and the <b>ASSESSED VALUE</b>,
                                              please refer to the amount indicated in the tax declaration of the
                                              properties concerned.
                                            </li>
                                            <li>
                                              In case of purchase by installment of immovable properties and the
                                              title is not yet in the name of the declarant, the total payments
                                              made shall be reported as <b><i>Equity in Installment Purchase</i></b> under
                                              <b>PERSONAL PROPERTY</b>. It is only when the title of Real Property is
                                              transferred to the buyer that the property is declared as a REAL
                                              PROPERTY in the SALN.
                                            </li>
                                            <li>
                                              Excluded in the computation of real properties are:
                                              <ul>
                                                <li>Real properties of unmarried children below 18 years of age
                                                  living in the declarantâ€™s household.</li>
                                                <li>Paraphernal property (exclusively owned by the wife) and
                                                  Capital property (exclusively owned by the husband).</li>
                                                </ul>
                                            </li>
                                            <li>
                                              Included in the computation:
                                              <ul>
                                                <li>Community property</li>
                                                <li>Conjugal property</li>
                                              </ul>
                                            </li>
                                          </ol>
                                        </div>
                                    </div>
                                  </div>
                                </div>
                            </div>
                          </div>
                        </form>
                  
                        <form action="#" method="POST" name="saln_pp_form" id="saln_pp_form" enctype="multipart/form-data">
                          <div class="card shadow-sm mb-2">
                            <div class="card-header bg-blue text-white">
                              <h5 class="mb-0 text-white">
                                <!-- <i class="fas fa-luggage-cart"></i> -->
                                b. Personal Properties
                              </h5>
                            </div>
                              <div class="card-body">
                                <div class="row">
                                  <div class="col-md-8">
                                  <div class="d-md-flex flex-row">
                                    <div class="mb-2 flex-fill px-1">
                                      <label for="pp_description">DESCRIPTION</label>
                                      <input type="text" class="form-control form-control-sm" id="pp_description" name="pp_description" placeholder="" form="saln_pp_form" required>
                                    </div>
                                  </div>
                                  <div class="d-md-flex flex-row">
                                    <div class="mb-2 flex-fill px-1">
                                      <label for="pp_year_acquired">YEAR ACQUIRED</label>
                                      <input type="text" class="form-control form-control-sm" id="pp_year_acquired" name="pp_year_acquired" placeholder="" form="saln_pp_form" oninput="year_only_2(this)" required>
                                      <!-- <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*Input "VARIOUS YEARS" or year only [eg. 2023]</p></small> -->
                                      <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="various_years" name="" onchange="variousYears(this, 'pp_year_acquired')">
                                        <label class="form-check-label" for="various_years">
                                          VARIOUS YEARS
                                        </label>
                                        </div>
                                    </div>
                                  </div>
                                  <div class="d-md-flex flex-row">
                                    <div class="mb-2 flex-fill px-1">
                                      <label for="pp_acquisition_cost">ACQUISITION COST / AMOUNT</label>
                                      <input type="text" class="form-control form-control-sm trailing-decimal-input" id="pp_acquisition_cost" name="pp_acquisition_cost" placeholder="" form="saln_pp_form" required>
                                    </div>
                                  </div>

                                  <div class="col-sm-12 text-center">
                                    <button type="submit" class="btn btn-primary btn-sm mb-2" form="saln_pp_form"><i class="fas fa-plus"></i> Add Personal Property</button>
                                    <!-- <button type="button" class="btn btn-primary btn-sm mb-2" data-bs-toggle="modal" data-bs-target="#viewPersonalProperty"><i class="fas fa-eye"></i> View Personal Properties</button> -->
                                  </div>

                                    <div class="table-responsive">
                                      <table class="table table-striped table-bordered text-left" id="pp_table" width = "100%">
                                        <thead class="">
                                        <tr class="align-middle">
                                          <th scope="col">ID</th>
                                          <th scope="col">DESCRIPTION</th>
                                          <th scope="col">YEAR ACQUIRED</th>
                                          <th scope="col">ACQUISITION COST/AMOUNT</th>
                                          <th scope="col">CONTROLS</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                          
                                        </tbody>
                                      </table>
                                    </div>
                                  </div>
                                  <div class="col-md-4">
                                      <div class="card shadow-sm mb-2 h-100">
                                        <div class="card-header bg-blue text-white">
                                          <h5 class="mb-0 text-white">
                                            <i class="bi bi-info-square"></i> Read me!
                                          </h5>
                                        </div>
                                        <div class="card-body">
                                          <ol class="d-grid gap-3">
                                            <li>
                                              Please provide the <b>DESCRIPTION</b>, <b>YEAR ACQUIRED</b>, and <b>AMOUNT</b> of the personal property.
                                            </li>
                                            <li>
                                              Personal properties refer to jewelry, appliances, furniture, motor
                                              vehicles and other tangible/movable properties. This shall also include
                                              investments or other assets, such as cash on hand or in bank,
                                              negotiable instruments, securities, stocks, bonds, and the like.
                                            </li>
                                            <li>
                                              In declaring your provident fund contributions, please provide the <b>gross corporate and personal shares</b>.
                                            </li>
                                            <li>
                                              For insurance policies, only the premiums paid as of December 31, {{ today_date.year - 1 }} shall be disclosed.
                                            </li>
                                            <li>
                                              For properties that are co-owned with other individuals, the declarant shall disclose the proportionate amount of his/her share in the property
                                            </li>
                                            <li>
                                              Properties which are subject of either a chattel or real estate mortgage
                                              shall be declared in the SALN Form. The acquisition cost to be
                                              declared shall be the actual purchase price, and the liability to be
                                              declared shall be the outstanding balance of the loan as of December
                                              31 of the preceding year.
                                            </li>
                                          </ol>
                                        </div>
                                      </div>
                                  </div>
                                </div>
                              </div>
                          </div>
                        </form>
                        
                    <h5 class="fw-bolder">2. LIABILITIES</h5>
                    <form action="#" method="POST" name="saln_liability_form" id="saln_liability_form" enctype="multipart/form-data">
                      <div class="card shadow-sm mb-2">
                        <div class="card-header bg-blue text-white">
                          <h5 class="mb-0 text-white">
                            <!-- <i class="fas fa-credit-card"></i> -->
                            a. Liabilities
                          </h5>
                        </div>
                          <div class="card-body">
                            <div class="row">
                              <div class="col-md-8">
                                <div class="d-md-flex flex-row">
                                  <div class="mb-2 flex-fill px-1">
                                    <label for="liability_nature">NATURE</label>
                                    <input type="text" class="form-control form-control-sm" id="liability_nature" name="liability_nature" form="saln_liability_form" placeholder="" required>
                                  </div>
                                  <div class="mb-2 flex-fill px-1">
                                    <label for="liability_creditor">NAME OF CREDITORS</label>
                                    <input type="text" class="form-control form-control-sm" id="liability_creditor" name="liability_creditor" form="saln_liability_form" placeholder="" required>
                                  </div>
                                  <div class="mb-2 flex-fill px-1">
                                    <label for="liability_outstanding_balance">OUTSTANDING BALANCE</label>
                                    <input type="text" class="form-control form-control-sm trailing-decimal-input" id="liability_outstanding_balance" name="liability_outstanding_balance" form="saln_liability_form" placeholder="" required>
                                  </div>
                                </div>
                                <div class="col-sm-12 mt-3 text-center my-auto">
                                  <button type="submit" class="btn btn-primary btn-sm mb-2" form="saln_liability_form"><i class="fas fa-plus"></i> Add Liability</button>
                                  <!-- <button type="button" class="btn btn-primary btn-sm mb-2" data-bs-toggle="modal" data-bs-target="#viewLiabilities"><i class="fas fa-eye"></i> View Liabilities</button> -->
                                </div>
                                <div class="col-sm-12">
                                  <div class="table-responsive">
                                    <table class="table table-striped table-bordered text-left" id="liability_table" width = "100%">
                                      <thead class="">
                                      <tr class="align-middle">
                                        <th scope="col">ID</th>
                                        <th scope="col">NATURE</th>
                                        <th scope="col">NAME OF CREDITOR</th>
                                        <th scope="col">OUTSTANDING BALANCE</th>
                                        <th scope="col">CONTROLS</th>
                                      </tr>
                                      </thead>
                                      <tbody>
                        
                                      </tbody>
                                    </table>
                                  </div>
                                </div>

                              </div>
                              <div class="col-md-4">
                              <div class="card shadow-sm mb-2 h-100">
                                <div class="card-header bg-blue text-white">
                                  <h5 class="mb-0 text-white">
                                    <i class="bi bi-info-square"></i> Read me!
                                  </h5>
                                </div>
                                  <div class="card-body">
                                    <ol class="d-grid gap-3">

                                      <li>
                                        Liability refers to financial liability or anything that can result to a
                                        transfer or disposal of an asset. It includes not only those incurred by
                                        the declarant but also those of his/her spouse and unmarried children
                                        below eighteen (18) years of age living in his/her household.
                                      </li>
                                      <li>
                                        Nature of liability refers to the type of loan obtained from banks,
                                        financial institutions, GSIS, PAG-IBIG and others, such as personal,
                                        multi-purpose, salary, calamity loan and the like.
                                      </li>
                                      <li>
                                        Outstanding Balance shall refer to the balance that is still due as of December 31, {{ today_date.year - 1 }}.
                                      </li>
                                      
                                    </ol>
                                  </div>
                                </div>
                                </div>      
                            </div>
                          </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
          </div>

          <div class="card shadow-sm mb-2">
            <div class="card-header bg-blue text-white">
              <h4 class="mb-0 fw-bolder text-white">
                <i class="fas fa-sitemap"></i>
                BUSINESS INTERESTS AND FINANCIAL CONNECTIONS
              </h4>
            </div>
            <div class="card-body">
              <div class="alert alert-warning" role="alert">
                <i class="fas fa-info-circle"></i> Business Interest and Financial Connections of Declarant /Declarantâ€™s spouse/ Unmarried Children Below Eighteen (18) years of Age Living in Declarantâ€™s Household
              </div>
              <form action="#" method="POST" name="saln_business_interest_form" id="saln_business_interest_form" enctype="multipart/form-data">
                <div class="card shadow-sm mb-2" style="min-height: 520px;">
                  <div class="card-header bg-blue text-white">
                  </div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-md-8">
                        <div class="d-md-flex flex-row">
                          <div class="mb-2 flex-fill px-1">
                            <label for="business">NAME OF ENTITY/BUSINESS ENTERPRISE</label>
                            <input type="text" class="form-control form-control-sm" id="business" name="business" placeholder="" form="saln_business_interest_form" required>
                          </div>
                        </div>
                        <div class="d-md-flex flex-row">
                          <div class="mb-2 flex-fill px-1">
                            <label for="business_address">BUSINESS ADDRESS</label>
                            <input type="text" class="form-control form-control-sm" id="business_address" name="business_address" placeholder="" form="saln_business_interest_form" required>
                          </div>
                        </div>
    
                        <div class="d-md-flex flex-row flex-gap">
                          <div class="mb-2 flex-fill px-1">
                            <label for="business_nature">NATURE OF BUSINESS INTEREST OR FINANCIAL CONNECTION</label>
                            <input type="text" class="form-control form-control-sm" id="business_nature" name="business_nature" placeholder="" form="saln_business_interest_form" required>
                          </div>
                          <div class="mb-2 flex-fill px-1">
                            <label for="creditor">DATE OF ACQUISITION OF INTEREST OR CONNECTION</label>
                            <input type="date" class="form-control form-control-sm" id="business_acquisition" name="business_acquisition" placeholder="" form="saln_business_interest_form" required>
                          </div>
                        </div>
    
                        <div class="col-sm-12 text-center my-auto mt-3">
                          <button type="submit" class="btn btn-primary btn-sm mb-2" form="saln_business_interest_form"><i class="fas fa-plus"></i> Add Business Interest and Financial Connection </button>
                          <!-- <button type="button" class="btn btn-primary btn-sm mb-2" data-bs-toggle="modal" data-bs-target="#viewBusiness"><i class="fas fa-eye"></i> View Business Interest and Financial Connection -->
                        </div>
                        <div class="table-responsive">
                          <table class="table table-striped table-bordered text-left" id="business_table" width = "100%">
                            <thead class="">
                            <tr class="align-middle">
                              <th scope="col">ID</th>
                              <th scope="col">NAME OF ENTITY/BUSINESS ENTERPRISE</th>
                              <th scope="col">BUSINESS ADDRESS</th>
                              <th scope="col">NATURE OF BUSINESS INTEREST OR FINANCIAL CONNECTION</th>
                              <th scope="col">DATE OF ACQUISITION OF INTEREST OR CONNECTION</th>
                              <th scope="col">CONTROLS</th>
                            </tr>
                            </thead>
                            <tbody>
              
                            </tbody>
                          </table>
                        </div>
                      </div>
                      <div class="col-sm-4">
                        <div class="card shadow-sm mb-2 h-100">
                          <div class="card-header bg-blue text-white">
                            <h5 class="mb-0 text-white">
                              <i class="bi bi-info-square"></i> Read me!
                            </h5>
                          </div>
                          <div class="card-body">
                            <ol class="d-grid gap-3">
                              <li>
                                <b>Business interests</b> refer to declarant's existing interest in any business
                                enterprise or entity, aside from his/her income from government,
                                which shall also include those of his/her spouse and unmarried
                                children below eighteen ( 18) years of age living in his/her household.
                              </li>
                              <li>
                                <b>Financial connections</b> refer to declarant's existing connections with
                                any business enterprise or entity, whether as a consultant, adviser and
                                the like, with an expectation of remuneration for services rendered,
                                including those of his/her spouse and unmarried children below
                                eighteen (18) years of age living in his/her household.
                              </li>
                              <li>
                                Nature of business interest and/or financial connection refers to
                                existing interest or connection in any business enterprise, whether as
                                <b>proprietor</b>, <b>investor</b>, <b>promoter</b>, <b>partner</b>, <b>shareholder</b>, <b>officer</b>, <b>managing
                                  director</b>, <b>executive</b>, <b>creditor</b>, <b>lawyer</b>, <b>legal consultant</b> or <b>adviser</b>,
                                <b>financial</b> or <b>business consultant</b>, and the like.
                              </li>
                            </ol>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
            <div class="card shadow-sm mb-2">
              <div class="card-header bg-blue text-white">
                <h4 class="mb-0 fw-bolder text-white">
                  <i class="bi bi-journals"></i> RELATIVES IN THE GOVERNMENT SERVICE
                </h4>
              </div>
              <div class="card-body">
                <div class="alert alert-warning" role="alert">
                  <i class="fas fa-info-circle"></i> Within the Fourth Degree of Consanguinity or Affinity. Include also Bilas, Balae and Inso
                </div>
                <form action="#" method="POST" name="saln_relative_in_government_form" id="saln_relative_in_government_form" enctype="multipart/form-data">
                  <div class="card shadow-sm mb-2" style="min-height: 520px;">
                    <div class="card-header bg-blue text-white">
                    </div>
                      <div class="card-body">
                        <div class="row">
                          <div class="col-md-8">
                            <div class="d-md-flex flex-row">
                              <div class="mb-2 flex-fill px-1">
                                <label for="relative_name">NAME OF RELATIVE</label>
                                <input type="text" class="form-control form-control-sm" id="relative_name" name="relative_name" placeholder="" form="saln_relative_in_government_form" required>
                              </div>
                            </div>
                            <div class="d-md-flex flex-row">
                              <div class="mb-2 flex-fill px-1">
                                <label for="relative_relationship">RELATIONSHIP</label>
                                <input type="text" class="form-control form-control-sm" id="relative_relationship" name="relative_relationship" placeholder="" form="saln_relative_in_government_form" required>
                              </div>
                            </div>
                            <div class="d-md-flex flex-row">
                              <div class="mb-2 flex-fill px-1">
                                <label for="relative_position">POSITION</label>
                                <input type="text" class="form-control form-control-sm" id="relative_position" name="relative_position" placeholder="" form="saln_relative_in_government_form" required>
                              </div>
                            </div>
          
                            <div class="d-md-flex flex-row flex-gap">
          
                              <div class="mb-2 flex-fill px-1">
                                <label for="relative_agency_office">NAME OF AGENCY/OFFICE</label>
                                <input type="text" class="form-control form-control-sm" id="relative_agency_office" name="relative_agency_office" placeholder="" form="saln_relative_in_government_form" required>
                              </div>
                            </div>
                            <div class="mb-2 flex-fill px-1">
                              <div class="mb-2 flex-fill px-1">
                                <label for="relative_agency_office_address">AGENCY/OFFICE ADDRESS</label>
                                <input type="text" class="form-control form-control-sm" id="relative_agency_office_address" name="relative_agency_office_address" placeholder="" form="saln_relative_in_government_form" required>
                              </div>
                            </div>
          
                            <div class="col-sm-12 text-center my-auto">
                              <button type="submit" class="btn btn-primary btn-sm mb-2" form="saln_relative_in_government_form"><i class="fas fa-plus"></i> Add Relative in the Gov't </button>
                              <!-- <button type="button" class="btn btn-primary btn-sm mb-2" data-bs-toggle="modal" data-bs-target="#viewRelative"><i class="fas fa-eye"></i> View Relative in the Gov't </button> -->
                          </div>

                          <div class="table-responsive">
                            <table class="table table-striped table-bordered text-left" id="relative_table" width = "100%">
                              <thead class="">
                              <tr class="align-middle">
                                <th scope="col">ID</th>
                                <th scope="col">NAME OF RELATIVE</th>
                                <th scope="col">RELATIONSHIP</th>
                                <th scope="col">POSITION</th>
                                <th scope="col">NAME OF AGENCY/OFFICE AND ADDRESS</th>
                                <th scope="col">CONTROLS</th>
                              </tr>
                              </thead>
                              <tbody>
                
                              </tbody>
                            </table>
                          </div>

                          </div>
                          <div class="col-sm-4">
                            <div class="card shadow-sm mb-2 h-100">
                              <div class="card-header bg-blue text-white">
                                <h5 class="mb-0 text-white">
                                  <i class="bi bi-info-square"></i> Read me!
                                </h5>
                              </div>
                              <div class="card-body">
                                <ol class="d-grid gap-3">
                                  <li> The extent of the fourth civil degree of affinity and consanguinity include:
                                    <ul>
                                      <li>
                                        Relatives in the first degree of consanguinity include the declarantâ€™s father, mother, son and daughter.
                                      </li>
                                      <li>
                                        Relatives in the first degree of affinity include the declarantâ€™s father-in-law and mother-in-law.
                                      </li>
                                      <li>
                                        Relatives in the second degree of consanguinity include the declarantâ€™s brother, sister, grandmother, grandfather,
                                        grandson and granddaughter.
                                      </li>
                                      <li>
                                        Relatives in the second degree of affinity include the declarantâ€™s brother-in-law, sister-in-law,
                                        grandmother-in-law, grandfather-in-law, granddaughter-in- law and grandson-in-law.
                                      </li>
                                      <li>
                                        Relatives in the third degree of consanguinity include the declarantâ€™s nephew, niece, uncle and aunt.
                                      </li>
                                      <li>
                                        Relatives in the third degree of affinity include declarantâ€™s nephew-in-law, niece-in-law, uncle-in-law, auntie-in-law.
                                      </li>
                                      <li>
                                        Relatives in the fourth degree of consanguinity include the declarantâ€™s first cousin.
                                      </li>
                                    </ul>
                                  </li>
                                  <li>
                                    Elected officials are considered to be part of the non-career service. Thus, they are included in the
                                    declaration of relatives. The same applies to public officials and employees holding temporary,
                                    coterminous, contractual, and casual appointments.
                                  </li>
                                  <li>
                                    The rules require declarants to disclose their relatives up to the fourth degree of consanguinity or
                                    affinity to the best of their knowledge.
                                  </li>
                                </ol>
                              </div>
                            </div>
                          </div>
                      </div>

                      </div>
                </div>
              </form>
              </div>
            </div>
          </div>
        </div>
    <!-- </div> -->
    
  <footer class="footer mt-auto py-3 bg-light fixed-bottom p-0 m-0 mb-3 position-sticky">
    <div class="container">
      <div class="col-sm-12">
          <div class="col text-center">
            <button class="btn btn-primary" type="button" onclick="print_saln()"><i class="bi bi-printer-fill"></i> GENERATE SALN</button>
          </div>
      </div>
      </div>
  </footer>
	</div>
</div>


</main>


<!-- Modal -->
<div class="modal fade" id="viewRealProperty" tabindex="-1" aria-labelledby="viewRealPropertyModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header bg-blue text-white">
        <h5 class="modal-title ms-auto fw-bolder text-white" id="viewRealPropertyModalLabel"><i class="fas fa-eye"></i> VIEW REAL PROPERTY</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="col-md-12">
          <form action="#" method="POST" name="saln_edit_rp_form" id="saln_edit_rp_form">
            <input type="hidden" class="form-control form-control-sm" id="edit_rp_id" name="id" placeholder="" required>
              <div class="accordion shadow-sm mb-3" id="accordionRp">
                <div class="accordion-item ">
                  <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button bg-blue text-white" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRp" aria-expanded="true" aria-controls="collapseOne">
                      <!-- <i class="fas fa-city"></i>  -->
                      EDIT REAL PROPERTY
                    </button>
                  </h2>
                  <div id="collapseRp" class="accordion-collapse collapse" aria-labelledby="headingOne">
                    <div class="accordion-body">
                      <div class="d-md-flex flex-row">
                        <div class="flex-fill px-1">
                          <label for="rp_description">DESCRIPTION</label>
                          <input type="text" class="form-control form-control-sm" id="edit_rp_description" name="rp_description" placeholder="" disabled required>
                          <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*e.g. lot, house and lot, condominium or an improvement such as an extension or garage,
                            and the like.</p></small>
                        
                        </div>
                        <div class="flex-fill px-1">
                          <label for="rp_kind">KIND</label>
                          <input type="text" class="form-control form-control-sm" id="edit_rp_kind" name="rp_kind" placeholder="" disabled required>
                          <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*e.g. residential, commercial, industrial, agricultural and mixed use</p></small>
                        </div>
                      </div>
                      <div class="d-md-flex flex-row">
                        <div class="mb-2 flex-fill px-1">
                          <label for="rp_exact_location">EXACT LOCATION</label>
                          <input type="text" class="form-control form-control-sm" id="edit_rp_exact_location" name="rp_exact_location" placeholder="" disabled required>
                        </div>
                      </div>

                      <div class="d-md-flex flex-row">
                        <div class="mb-2 flex-fill px-1">
                          <label for="rp_assessed_value">ASSESSED VALUE</label>
                          <input type="text" class="form-control form-control-sm trailing-decimal-input" id="edit_rp_assessed_value" name="rp_assessed_value" placeholder="" disabled required>
                          <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*As found in the Tax Declaration of Real Property.</p></small>

                        </div>
                        <div class="mb-2 flex-fill px-1">
                          <label for="rp_current_makret_value">CURRENT FAIR MARKET VALUE</label>
                          <input type="text" class="form-control form-control-sm trailing-decimal-input" id="edit_rp_current_market_value" name="rp_current_market_value" placeholder="" disabled required>
                          <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*As found in the Tax Declaration of Real Property.</p></small>

                        </div>
                      </div>

                      <div class="d-md-flex flex-row">
                        <div class="mb-2 flex-fill px-1">
                          <label for="rp_acquisition_year">ACQUISITION YEAR</label>
                          <input type="text" class="form-control form-control-sm" id="edit_rp_acquisition_year" name="rp_acquisition_year" placeholder="" oninput="year_only_2(this)" disabled required>
                          <small class="" style="font-size: 12px; color:rgb(0, 30, 255);"><p style="line-height: normal;">*Input year only [eg. 2023]</p></small>

                        </div>
                        <div class="mb-2 flex-fill px-1">
                          <label for="rp_acquisition_mode">ACQUISITION MODE</label>
                          <input type="text" class="form-control form-control-sm" id="edit_rp_acquisition_mode" name="rp_acquisition_mode" placeholder="" disabled required>
                        </div>
                        
                        <div class="mb-2 flex-fill px-1">
                          <label for="rp_acquisition_cost">ACQUISITION COST</label>
                          <input type="text" class="form-control form-control-sm trailing-decimal-input" id="edit_rp_acquisition_cost" name="rp_acquisition_cost" placeholder="" disabled required>
                        </div>
                      </div>

                      <div class="col-sm-12 text-center mt-2">
                        <button type="save" class="btn btn-primary btn-sm" id="save_rp"><i class="far fa-save"></i> Save Changes</button>
                        <button type="button" class="btn btn-primary btn-sm" id="clear_rp" onclick="clearFields('saln_edit_rp_form'); disableFields('saln_edit_rp_form', true);"><i class="fas fa-eraser"></i> Clear Inputs</button>
                      
                      </div>
                    </div>
                  </div>
                </div>
              </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="viewPersonalProperty" tabindex="-1" aria-labelledby="viewPersonalPropertyModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header bg-blue text-white">
        <h5 class="modal-title ms-auto text-white fw-bolder" id="viewPersonalPropertyModalLabel"><i class="fas fa-eye"></i> VIEW PERSONAL PROPERTIES</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <div class="accordion shadow-sm mb-3" id="accordionRp">
            <div class="accordion-item ">
              <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button bg-blue text-white" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePp" aria-expanded="true" aria-controls="collapseOne">
                  <!-- <i class="fas fa-city"></i>  -->
                  EDIT PERSONAL PROPERTIES
                </button>
              </h2>
              <div id="collapsePp" class="accordion-collapse collapse" aria-labelledby="headingOne">
                <div class="accordion-body">
                    <form action="#" method="POST" name="saln_edit_pp_form" id="saln_edit_pp_form">
                      <input type="hidden" class="form-control form-control-sm" id="edit_pp_id" name="id" placeholder="" required>
                          <div class="d-md-flex flex-row">
                            <div class="mb-2 flex-fill px-1">
                              <label for="edit_pp_description">DESCRIPTION</label>
                              <input type="text" class="form-control form-control-sm" id="edit_pp_description" name="pp_description" placeholder="" disabled required>
                            </div>
                          </div>
                          <div class="d-md-flex flex-row">
                            <div class="mb-2 flex-fill px-1">
                              <label for="edit_pp_year_acquired">YEAR ACQUIRED</label>
                              <input type="text" class="form-control form-control-sm" id="edit_pp_year_acquired" name="pp_year_acquired" placeholder="" onchange="year_only(this)" disabled required>
                              <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="edit_various_years" name="" onchange="variousYears(this, 'edit_pp_year_acquired')">
                                <label class="form-check-label" for="edit_various_years">
                                  VARIOUS YEARS
                                </label>
                                </div>
                            </div>
                          </div>
                          <div class="d-md-flex flex-row">
                            <div class="mb-2 flex-fill px-1">
                              <label for="edit_pp_acquisition_cost">ACQUISITION COST / AMOUNT</label>
                              <input type="text" class="form-control form-control-sm trailing-decimal-input" id="edit_pp_acquisition_cost" name="pp_acquisition_cost" placeholder="" disabled required>
                            </div>
                          </div>
                          <div class="col-sm-12 text-center">
                            <button type="save" class="btn btn-primary btn-sm" id="save_pp"><i class="far fa-save"></i> Save Personal Property</button>
                            <button type="button" class="btn btn-primary btn-sm" id="clear_pp" onclick="clearFields('saln_edit_pp_form'); disableFields('saln_edit_pp_form', true);"><i class="fas fa-eraser"></i> Clear Inputs</button>
                          </div>
                    </form>
                </div>
              </div>
            </div>
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="viewLiabilities" tabindex="-1" aria-labelledby="viewLiabilitiesModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header bg-blue text-white">
        <h5 class="modal-title ms-auto text-white fw-bolder" id="viewLiabilitiesModalLabel"><i class="fas fa-eye"></i> VIEW LIABILITIES</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <div class="accordion shadow-sm mb-3" id="accordionLiability">
            <div class="accordion-item ">
              <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button bg-blue text-white" type="button" data-bs-toggle="collapse" data-bs-target="#collapseLiability" aria-expanded="true" aria-controls="collapseOne">
                  <!-- <i class="fas fa-city"></i>  -->
                  EDIT LIABILITIES
                </button>
              </h2>
              <div id="collapseLiability" class="accordion-collapse collapse" aria-labelledby="headingOne">
                <div class="accordion-body">
             
                  
                  <form action="#" method="POST" name="saln_edit_liability_form" id="saln_edit_liability_form">
                    <input type="hidden" class="form-control form-control-sm" id="edit_liability_id" name="id" placeholder="" required>
                        <div class="d-md-flex flex-row">
                          <div class="mb-2 flex-fill px-1">
                            <label for="liability_nature">NATURE</label>
                            <input type="text" class="form-control form-control-sm" id="edit_liability_nature" name="liability_nature" placeholder="" disabled required>
                          </div>
                          <div class="mb-2 flex-fill px-1">
                            <label for="liability_creditor">NAME OF CREDITORS</label>
                            <input type="text" class="form-control form-control-sm" id="edit_liability_creditor" name="liability_creditor" placeholder="" disabled required>
                          </div>
                          <div class="mb-2 flex-fill px-1">
                            <label for="liability_outstanding_balance">OUTSTANDING BALANCE</label>
                            <input type="text" class="form-control form-control-sm trailing-decimal-input" id="edit_liability_outstanding_balance" name="liability_outstanding_balance" placeholder="" disabled required>
                          </div>
                        </div>
                        <div class="col-sm-12 text-center">
                          <button type="save" class="btn btn-primary btn-sm" id="save_pp"><i class="far fa-save"></i> Save Changes</button>
                          <button type="button" class="btn btn-primary btn-sm" id="clear_pp" onclick="clearFields('saln_edit_liability_form'); disableFields('saln_edit_liability_form', true);"><i class="fas fa-eraser"></i> Clear Inputs</button>
                        </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="viewBusiness" tabindex="-1" aria-labelledby="viewBusinessModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header bg-blue text-white">
        <h5 class="modal-title ms-auto text-white fw-bolder" id="viewBusinessModalLabel"><i class="fas fa-eye"></i> VIEW BUSINESS INTERESTS AND FINANCIAL CONNECTIONS</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="accordion shadow-sm mb-3" id="accordionBusiness">
          <div class="accordion-item ">
            <h2 class="accordion-header" id="headingOne">
              <button class="accordion-button bg-blue text-white" type="button" data-bs-toggle="collapse" data-bs-target="#collapseBusiness" aria-expanded="true" aria-controls="collapseOne">
                <!-- <i class="fas fa-city"></i>  -->
                    EDIT BUSINESS INTERESTS AND FINANCIAL CONNECTIONS
              </button>
            </h2>
            <div id="collapseBusiness" class="accordion-collapse collapse" aria-labelledby="headingOne">
              <div class="accordion-body">
           
                
                <form action="#" method="POST" name="saln_edit_business_form" id="saln_edit_business_form">
                  <input type="hidden" class="form-control form-control-sm" id="edit_business_id" name="id" placeholder="" required>

                      <div class="d-md-flex flex-row">
                        <div class="mb-2 flex-fill px-1">
                          <label for="business">NAME OF ENTITY/BUSINESS ENTERPRISE</label>
                          <input type="text" class="form-control form-control-sm" id="edit_business" name="business" placeholder="" disabled required>
                        </div>
                      </div>
                      <div class="d-md-flex flex-row">
                        <div class="mb-2 flex-fill px-1">
                          <label for="business_address">BUSINESS ADDRESS</label>
                          <input type="text" class="form-control form-control-sm" id="edit_business_address" name="business_address" placeholder="" disabled required>
                        </div>
                      </div>
      
                      <div class="d-md-flex flex-row flex-gap">
                        <div class="mb-2 flex-fill px-1">
                          <label for="business_nature">NATURE OF BUSINESS INTEREST OR FINANCIAL CONNECTION</label>
                          <input type="text" class="form-control form-control-sm" id="edit_business_nature" name="business_nature" placeholder="" disabled required>
                        </div>
                        <div class="mb-2 flex-fill px-1">
                          <label for="creditor">DATE OF ACQUISITION OF INTEREST OR CONNECTION</label>
                          <input type="date" class="form-control form-control-sm" id="edit_business_acquisition" name="business_acquisition" placeholder="" disabled required>
                        </div>
                      </div>
                      <div class="col-sm-12 text-center">
                        <button type="save" class="btn btn-primary btn-sm" id="save_business"><i class="far fa-save"></i> Save Changes</button>
                        <button type="button" class="btn btn-primary btn-sm" id="clear_business" onclick="clearFields('saln_edit_business_form'); disableFields('saln_edit_business_form', true);"><i class="fas fa-eraser"></i> Clear Inputs</button>
                      </div>
                </form>
                  

              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="viewRelative" tabindex="-1" aria-labelledby="viewRelativeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header bg-blue text-white">
        <h5 class="modal-title ms-auto text-white fw-bolder" id="viewRelativeModalLabel"><i class="fas fa-eye"></i> VIEW RELATIVES IN THE GOVERNMENT SERVICE</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="col-md-12">
          <form action="#" method="POST" name="edit_saln_relative_in_government_form" id="edit_saln_relative_in_government_form">
            <input type="hidden" class="form-control form-control-sm" id="edit_relative_id" name="id" placeholder="" required>
            <div class="card shadow-sm mb-2">
              <div class="card-header bg-blue text-white">
                <h5 class="mb-0 text-white fw-bolder">
                  <i class="fas fa-city"></i>
                  EDIT RELATIVES IN THE GOVERNMENT SERVICE
                </h5>
              </div>
              <div class="card-body">
                <div class="d-md-flex flex-row">
                  <div class="mb-2 flex-fill px-1">
                    <label for="relative_name">NAME OF RELATIVE</label>
                    <input type="text" class="form-control form-control-sm" id="edit_relative_name" name="relative_name" placeholder="" disabled required>
                  </div>
                </div>
                <div class="d-md-flex flex-row">
                  <div class="mb-2 flex-fill px-1">
                    <label for="relative_relationship">RELATIONSHIP</label>
                    <input type="text" class="form-control form-control-sm" id="edit_relative_relationship" name="relative_relationship" placeholder="" disabled required>
                  </div>
                  <div class="mb-2 flex-fill px-1">
                    <label for="relative_position">POSITION</label>
                    <input type="text" class="form-control form-control-sm" id="edit_relative_position" name="relative_position" placeholder="" disabled required>
                  </div>
                </div>

                <div class="d-md-flex flex-row flex-gap">

                  <div class="mb-2 flex-fill px-1">
                    <label for="relative_agency_office">NAME OF AGENCY/OFFICE</label>
                    <input type="text" class="form-control form-control-sm" id="edit_relative_agency_office" name="relative_agency_office" placeholder="" disabled required>
                  </div>
                </div>
                <div class="mb-2 flex-fill px-1">
                  <div class="mb-2 flex-fill px-1">
                    <label for="relative_agency_office_address">AGENCY/OFFICE ADDRESS</label>
                    <input type="text" class="form-control form-control-sm" id="edit_relative_agency_office_address" name="relative_agency_office_address" placeholder="" disabled required>
                  </div>
                </div>
                <div class="col-sm-12 text-center">
                  <button type="save" class="btn btn-primary btn-sm" id="save_relative"><i class="far fa-save"></i> Save</button>
                  <button type="button" class="btn btn-primary btn-sm" id="clear_relative" onclick="clearFields('edit_saln_relative_in_government_form'); disableFields('edit_saln_relative_in_government_form', true);"><i class="fas fa-eraser"></i> Clear Inputs</button>
                </div>
              </div>
            </div>
          </form>
          </div>

         


        <!-- <div class="col-sm-12">
          <div class="table-responsive">
            <table class="table table-striped table-bordered text-left" id="relative_table" width = "100%">
              <thead class="">
              <tr class="align-middle">
                <th scope="col">ID</th>
                <th scope="col">NAME OF RELATIVE</th>
                <th scope="col">RELATIONSHIP</th>
                <th scope="col">POSITION</th>
                <th scope="col">NAME OF AGENCY/OFFICE AND ADDRESS</th>
                <th scope="col">CONTROLS</th>
              </tr>
              </thead>
              <tbody>

              </tbody>
            </table>
          </div>
      </div> -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
      </div>
    </div>
  </div>
</div>



{% endblock %}

{%block scripts%}

<script type="text/javascript">

  function clearFields(formId){
    var form = document.getElementById(formId);
    var formFields = form.querySelectorAll("input");
    
    formFields.forEach(function(field) {
      if (field.type === "checkbox") {
        // Uncheck checkboxes
        field.checked = false;
      } else {
        // Clear input fields
        field.value = "";
      }
    });
  }

  (function() {

    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl)
    })
    document.getElementById('filing_date').valueAsDate = new Date();

fetchData('rp')
  .then((data) => {
    var rp_table_col = [
    { "data" : "id" },
    { "data" : "rp_description" },
    { "data" : "rp_kind" },
    { "data" : "rp_exact_location" },
    { "data" : "rp_assessed_value" },
    { "data" : "rp_current_market_value" },
    { "data" : "rp_acquisition_year" },
    { "data" : "rp_acquisition_mode" },
    { "data" : "rp_acquisition_cost" },
    { "data" : null,
    searchable: false,
    render: function ( data, type, row ) {
        return `
        <button type="button" class="btn btn-sm btn-primary" id="${data.id}" data-bs-toggle="modal" data-bs-target="#viewRealProperty" onclick="editRp(this.id, 'rp'); toggleAccordion('collapseRp');" title="<em>Edit</em> <u><b>Real Property</b></u>">
          <i class="far fa-edit"></i>
        </button>
        <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'rp')" title="<em>Delete</em> <u><b>Real Property</b></u>">
          <i class="far fa-trash-alt"></i>
        </button>`
      }
   }
  ];

    loadTable('rp_table', rp_table_col, data);
    //loadTable(['rp_table', 'pp_table'], [{'rp_table' : rp_table_col, 'pp_table' : pp_table_col,}], data);

  })
  .catch((error) => {
    throw error;
  });

  
fetchData('liability')
  .then((data) => {
    
  var liability_table_col = [
  { "data" : "id" },
  { "data" : "liability_nature" },
  { "data" : "liability_creditor" },
  { "data" : "liability_outstanding_balance" },
  { "data" : null,
  searchable: false,
  render: function ( data, type, row ) {
      return `
      <button type="button" class="btn btn-sm btn-primary" id="${data.id}" data-bs-toggle="modal" data-bs-target="#viewLiabilities" onclick="editLiability(this.id, 'liability'); toggleAccordion('collapseLiability');" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Liability</b></u>">
        <i class="far fa-edit"></i>
      </button>
      <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'liability')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Liability</b></u>">
        <i class="far fa-trash-alt"></i>
      </button>`
    }
  }
  ];

    loadTable('liability_table', liability_table_col, data);

  })
  .catch((error) => {
    throw error;
  });
  

    
fetchData('pp')
.then((data) => {
  
var pp_table_col = [
{ "data" : "id" },
{ "data" : "pp_description" },
{ "data" : "pp_year_acquired" },
{ "data" : "pp_acquisition_cost" },
{ "data" : null,
  searchable: false,
  render: function ( data, type, row ) {
      return `
      <button type="button" class="btn btn-sm btn-primary" id="${data.id}" onclick="editPp(this.id, 'pp'); toggleAccordion('collapsePp');" data-bs-toggle="modal" data-bs-target="#viewPersonalProperty" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Personal Property</b></u>">
        <i class="far fa-edit"></i>
      </button>
      <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'pp')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Personal Property</b></u>">
        <i class="far fa-trash-alt"></i>
      </button>`
    }
}];

  loadTable('pp_table', pp_table_col, data);

})
.catch((error) => {
  throw error;
});

fetchData('relative')
.then((data) => {
  
var relative_table_col = [
{ "data" : "id" },
{ "data" : "relative_name" },
{ "data" : "relative_relationship" },
{ "data" : "relative_position" },
{ "data" : null,
  render: function ( data, type, row ) {
    return `${data.relative_agency_office} / ${data.relative_agency_office_address}`
  }
},
{ "data" : null,
  searchable: false,
  render: function ( data, type, row ) {
      return `
      <button type="button" class="btn btn-sm btn-primary" id="${data.id}" onclick="editRelative(this.id, 'relative'); toggleAccordion('collapseRp');" data-bs-toggle="modal" data-bs-target="#viewRelative" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Relative</b></u>">
        <i class="far fa-edit"></i>
      </button>
      <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'relative')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Relative</b></u>">
        <i class="far fa-trash-alt"></i>
      </button>`
    }
}];

  loadTable('relative_table', relative_table_col, data);

})
.catch((error) => {
  throw error;
});

fetchData('business')
.then((data) => {
  
var business_table_col = [
{ "data" : "id" },
{ "data" : "business" },
{ "data" : "business_address" },
{ "data" : "business_nature" },
//{ "data" : "business_acquisition" },
{ "data" : null,
  searchable: false,
  render: function ( data, type, row ) {
    console.log(data)
      return new Date(data.business_acquisition).toLocaleDateString()
    }
},
{ "data" : null,
  searchable: false,
  render: function ( data, type, row ) {
      return `
      <button type="button" class="btn btn-sm btn-primary" id="${data.id}" onclick="editBusiness(this.id, 'business'); toggleAccordion('collapseBusiness');" data-bs-toggle="modal" data-bs-target="#viewBusiness" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Business Interest</b></u>">
        <i class="far fa-edit"></i>
      </button>
      <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'business')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Business Interest</b></u>">
        <i class="far fa-trash-alt"></i>
      </button>`
    }
}];

  loadTable('business_table', business_table_col, data);

})
.catch((error) => {
  throw error;
});



 })();

 function fetchData(saln_type){
  var url = "/saln/get-data/"+saln_type+"/{{user_profile.id}}";

  return fetch(url, {
    method: 'GET',
    headers: {
      'Content-Type': 'application/json'
    }
    }).then((res)=>{
      if (res.status == 200){
        return res.json();
      }
    })
 }

$('.trailing-decimal-input').on('change', function (e) {
var intRegex = /^\d+$/;
var floatRegex = /^((\d+(\.\d *)?)|((\d*\.)?\d+))$/;
if(intRegex.test($(this).val().replace(/,/gi, "")) || floatRegex.test($(this).val().replace(/,/gi, ""))) {
    var num = $(this).val().replace(/,/gi, "");
    var float_num = parseFloat(num);
    var final = parseFloat((float_num).toFixed(2)).toLocaleString("en-EN",{
      minimumFractionDigits: 2,
      maximumFractionDigits: 2 });
      
    $(this).val(final);
  
}else{
  $(this).val("")
}

});

function loadTable(table, tableCol, data) {
    var jsonString = JSON.stringify(data) //for testing
  
    var oTblReport = $('#' + table);
    var pageLength = 0;
    rowHeight = 0;
    if(table == "rp_table"){
      pageLength = 2;
    }else if(table == "pp_table"){
      pageLength = 3;
    }else if(table == "liability_table"){
      pageLength = 3;
    }else if(table == "business_table"){
      pageLength = 3;
    }else if(table == "relative_table"){
      pageLength = 2;
    }

    oTblReport.DataTable ({
        "data" : data,
        "columns" : tableCol,
        "pageLength": pageLength,
        //"scrollY": true,
        //"scroller": {
        //    "rowHeight": rowHeight
        //}
    });
}

function editRp(id, type){

  disableFields("saln_edit_rp_form", false);
  
  const requestData = {
    id: id,
    type: type
  };

  var url = "/saln/edit";

  fetch(url, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(requestData)
    }).then((res)=>{
      if (res.status == 200){
        return res.json();
      }
    
    }).then((data)=>{
      //console.log(data)
      var edit_rp_description = document.getElementById('edit_rp_description');
      var edit_rp_kind = document.getElementById('edit_rp_kind');
      var edit_rp_exact_location = document.getElementById('edit_rp_exact_location');
      var edit_rp_assessed_value = document.getElementById('edit_rp_assessed_value');
      var edit_rp_current_market_value = document.getElementById('edit_rp_current_market_value');
      var edit_rp_acquisition_year = document.getElementById('edit_rp_acquisition_year');
      var edit_rp_acquisition_mode = document.getElementById('edit_rp_acquisition_mode');
      var edit_rp_acquisition_cost = document.getElementById('edit_rp_acquisition_cost');
      var edit_rp_id = document.getElementById('edit_rp_id');
      
      edit_rp_id.value = data.id;
      edit_rp_description.value = data.rp_description;
      edit_rp_kind.value = data.rp_kind;
      edit_rp_exact_location.value = data.rp_exact_location;
      edit_rp_assessed_value.value = data.rp_assessed_value;
      edit_rp_current_market_value.value = data.rp_current_market_value;
      edit_rp_acquisition_year.value = data.rp_acquisition_year;
      edit_rp_acquisition_mode.value = data.rp_acquisition_mode;
      edit_rp_acquisition_cost.value = data.rp_acquisition_cost;

    });//END
}

function editPp(id, type){
  document.getElementById('saln_edit_pp_form').reset();
  disableFields("saln_edit_pp_form", false);
  
  const requestData = {
    id: id,
    type: type
  };

  var url = "/saln/edit";

  fetch(url, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(requestData)
    }).then((res)=>{
      if (res.status == 200){
        return res.json();
      }
    
    }).then((data)=>{
      var edit_pp_id = document.getElementById('edit_pp_id');
      var edit_pp_description = document.getElementById('edit_pp_description');
      var edit_pp_year_acquired = document.getElementById('edit_pp_year_acquired');
      var edit_pp_acquisition_cost = document.getElementById('edit_pp_acquisition_cost');

      edit_pp_id.value = data.id;
      edit_pp_description.value = data.pp_description;
      edit_pp_year_acquired.value = data.pp_year_acquired;
      edit_pp_acquisition_cost.value = data.pp_acquisition_cost;


    });//END
}

function editLiability(id, type){
  disableFields("saln_edit_liability_form", false);
  
  const requestData = {
    id: id,
    type: type
  };

  var url = "/saln/edit";

  fetch(url, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(requestData)
    }).then((res)=>{
      if (res.status == 200){
        return res.json();
      }
    
    }).then((data)=>{
      console.log(data)
      var edit_liability_id = document.getElementById('edit_liability_id');
      var edit_liability_nature = document.getElementById('edit_liability_nature');
      var edit_liability_creditor = document.getElementById('edit_liability_creditor');
      var edit_liability_outstanding_balance = document.getElementById('edit_liability_outstanding_balance');

      edit_liability_id.value = data.id;
      edit_liability_nature.value = data.liability_nature;
      edit_liability_creditor.value = data.liability_creditor;
      edit_liability_outstanding_balance.value = data.liability_outstanding_balance;


    });//END
}

function editBusiness(id, type){
  disableFields("saln_edit_business_form", false);
  
  const requestData = {
    id: id,
    type: type
  };

  var url = "/saln/edit";

  fetch(url, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(requestData)
    }).then((res)=>{
      if (res.status == 200){
        return res.json();
      }
    
    }).then((data)=>{
      console.log(data)
      var edit_business_id = document.getElementById('edit_business_id');
      var edit_business = document.getElementById('edit_business');
      var edit_business_address = document.getElementById('edit_business_address');
      var edit_business_nature = document.getElementById('edit_business_nature');
      var edit_business_acquisition = document.getElementById('edit_business_acquisition');

      edit_business_id.value = data.id;
      edit_business.value = data.business;
      edit_business_address.value = data.business_address;
      edit_business_nature.value = data.business_nature;
      edit_business_acquisition.value = data.business_acquisition;


    });//END
}


function editRelative(id, type){

  disableFields("edit_saln_relative_in_government_form", false);
  
  const requestData = {
    id: id,
    type: type
  };

  var url = "/saln/edit";

  fetch(url, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(requestData)
    }).then((res)=>{
      if (res.status == 200){
        return res.json();
      }
    
    }).then((data)=>{
      var edit_relative_id = document.getElementById('edit_relative_id');
      var edit_relative_name = document.getElementById('edit_relative_name');
      var edit_relative_relationship = document.getElementById('edit_relative_relationship');
      var edit_relative_position = document.getElementById('edit_relative_position');
      var edit_relative_agency_office = document.getElementById('edit_relative_agency_office');
      var edit_relative_agency_office_address = document.getElementById('edit_relative_agency_office_address');

      edit_relative_id.value = data.id;
      edit_relative_name.value = data.relative_name;
      edit_relative_relationship.value = data.relative_relationship;
      edit_relative_position.value = data.relative_position;
      edit_relative_agency_office.value = data.relative_agency_office;
      edit_relative_agency_office_address.value = data.relative_agency_office_address;

    });//END
}


function disableFields(formId, isDisabled){

  var form = document.getElementById(formId);

  var formFields = form.querySelectorAll("input");
  
  if(isDisabled){
    formFields.forEach(function(field) {
      field.setAttribute("disabled", "disabled");
      field.setAttribute("readonly", "readonly");
    });
  }else{
    formFields.forEach(function(field) {
      field.removeAttribute("disabled");
      field.removeAttribute("readonly");
    });
  }
}

function scrollToTopOfModal() {
  const modalContent = document.querySelector(".modal-body"); // Get the modal content
  //modalContent.scrollTop = 0; // Scroll the modal content to the top
  modalContent.scrollTo({
    top : 0,
    behavior : 'smooth'
  }); // Scroll the modal content to the top
  
}


function toggleAccordion(accord){
  const specificAccordionPanel = document.querySelector('#'+accord);
  //console.log(specificAccordionPanel)

  scrollToTopOfModal();

  if(!specificAccordionPanel.classList.contains('show')){
   // specificAccordionPanel.classList.remove('show');
    specificAccordionPanel.classList.add('show');
  }else{
    //specificAccordionPanel.classList.add('show');
  }
}


function deleteData(id, type){

  // Create the data to be sent in the request body
  const requestData = {
    id: id,
    type: type
  };

  url = "/saln/delete";
  
  fetch(url, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(requestData)
    }).then((res)=>{
      if (res.status == 200){
        if(type == 'rp'){
          triggerToast("Real Property deleted successfully!", 'success');
          
        if ($.fn.DataTable.isDataTable('#rp_table')) {
          $('#rp_table').DataTable().destroy();
        }

          fetchData('rp')
            .then((data) => {
              var rp_table_col = [
              { "data" : "id" },
              { "data" : "rp_description" },
              { "data" : "rp_kind" },
              { "data" : "rp_exact_location" },
              { "data" : "rp_assessed_value" },
              { "data" : "rp_current_market_value" },
              { "data" : "rp_acquisition_year" },
              { "data" : "rp_acquisition_mode" },
              { "data" : "rp_acquisition_cost" },
              { "data" : null,
              searchable: false,
              render: function ( data, type, row ) {
                  return `
                  <button type="button" class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#viewRealProperty" id="${data.id}" onclick="editRp(this.id, 'rp'); toggleAccordion('collapseRp');" data-bs-toggle="tooltip" title="<em>Edit</em> <u><b>Real Property</b></u>">
                    <i class="far fa-edit"></i>
                  </button>
                  <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'rp')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Real Property</b></u>">
                    <i class="far fa-trash-alt"></i>
                  </button>`
                }
            }
            ];

              loadTable('rp_table', rp_table_col, data);
              //loadTable(['rp_table', 'pp_table'], [{'rp_table' : rp_table_col, 'pp_table' : pp_table_col,}], data);
            });
        }else if (type == 'pp'){
          triggerToast("Personal Property deleted successfully!", 'success');

          
          if ($.fn.DataTable.isDataTable('#pp_table')) {
            $('#pp_table').DataTable().destroy();
          }

          fetchData('pp')
          .then((data) => {
            console.log("====>>",data)
          var pp_table_col = [
          { "data" : "id" },
          { "data" : "pp_description" },
          { "data" : "pp_year_acquired" },
          { "data" : "pp_acquisition_cost" },
          { "data" : null,
          searchable: false,
          render: function ( data, type, row ) {
              return `
              <button type="button" class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#viewPersonalProperty" id="${data.id}" onclick="editPp(this.id, 'pp'); toggleAccordion('collapsePp');" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Personal Property</b></u>">
                <i class="far fa-edit"></i>
              </button>
              <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'pp')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Personal Property</b></u>">
                <i class="far fa-trash-alt"></i>
              </button>`
            }
          }];
        
            loadTable('pp_table', pp_table_col, data);
        
          })
        }else if(type == 'liability'){
          triggerToast("Liability deleted successfully!", 'success');

          if ($.fn.DataTable.isDataTable('#liability_table')) {
            $('#liability_table').DataTable().destroy();
          }

          fetchData('liability')
          .then((data) => {

          var liability_table_col = [
          { "data" : "id" },
          { "data" : "liability_nature" },
          { "data" : "liability_creditor" },
          { "data" : "liability_outstanding_balance" },
          { "data" : null,
          searchable: false,
          render: function ( data, type, row ) {
              return `
              <button type="button" class="btn btn-sm btn-primary" id="${data.id}" onclick="editLiability(this.id, 'liability'); toggleAccordion('collapseLiability');" data-bs-toggle="modal" data-bs-target="#viewLiabilities" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Liability</b></u>">
                <i class="far fa-edit"></i>
              </button>
              <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'liability')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Liability</b></u>">
                <i class="far fa-trash-alt"></i>
              </button>`
            }
          }
          ];

            loadTable('liability_table', liability_table_col, data);

          })
        }else if(type == 'business'){
          triggerToast("Business Interest / Financial Connection deleted successfully!", 'success');

          if ($.fn.DataTable.isDataTable('#business_table')) {
            $('#business_table').DataTable().destroy();
          }

          fetchData('business')
          .then((data) => {
            
          var business_table_col = [
            { "data" : "id" },
            { "data" : "business" },
            { "data" : "business_address" },
            { "data" : "business_nature" },
            { "data" : "business_acquisition" },
            { "data" : null,
              searchable: false,
              render: function ( data, type, row ) {
                  return `
                  <button type="button" class="btn btn-sm btn-primary" id="${data.id}" data-bs-toggle="modal" data-bs-target="#viewBusiness" onclick="editBusiness(this.id, 'business'); toggleAccordion('collapseBusiness');" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Business Interest</b></u>">
                    <i class="far fa-edit"></i>
                  </button>
                  <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'business')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Business Interest</b></u>">
                    <i class="far fa-trash-alt"></i>
                  </button>`
                }
            }];

            loadTable('business_table', business_table_col, data);

          })
        }else if(type == 'relative'){
          triggerToast("Relative in the Gov't Service deleted successfully!", 'success');

          if ($.fn.DataTable.isDataTable('#relative_table')) {
            $('#relative_table').DataTable().destroy();
          }

          fetchData('relative')
          .then((data) => {
            
          var relative_table_col = [
          { "data" : "id" },
          { "data" : "relative_name" },
          { "data" : "relative_relationship" },
          { "data" : "relative_position" },
          { "data" : null,
            render: function ( data, type, row ) {
              return `${data.relative_agency_office} / ${data.relative_agency_office_address}`
            }
          },
          { "data" : null,
            searchable: false,
            render: function ( data, type, row ) {
                return `
                <button type="button" class="btn btn-sm btn-primary" id="${data.id}"  data-bs-toggle="modal" data-bs-target="#viewRelative" onclick="editRelative(this.id, 'relative'); toggleAccordion('collapseRp');" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Relative in the Government</b></u>">
                  <i class="far fa-edit"></i>
                </button>
                <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'relative')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Relative in the Government</b></u>">
                  <i class="far fa-trash-alt"></i>
                </button>`
              }
          }];
          
            loadTable('relative_table', relative_table_col, data);

          })
        }

      }
      return res.json()
    
    });//END
}

function formatDate(date) {
  date = new Date(date);
  var year = date.getFullYear();
  var month = (date.getMonth() + 1).toString().padStart(2, '0');
  var day = date.getDate().toString().padStart(2, '0');
  return `${year}-${month}-${day}`;
}


function print_saln(){
  var filing_date = document.getElementById('filing_date');
  var filing_type = document.getElementById('filing_type');
  var date_filing = new Date(filing_date.value);
  var formatted_date_filing = date_filing.toLocaleDateString("en-US");
  fetch('/saln/print/{{user_profile.id}}/'+formatDate(formatted_date_filing)+'/'+filing_type.value, {
    method: 'GET',
    }).then((res)=>{
      if (res.status == 200){
        triggerToast("Started downloading SALN!", 'success')
      }
      return res.blob()
    
    }).then((data)=>{

      // Create a Blob with the content
      const blob = new Blob([data], { type: "application/vnd.openxmlformats-officedocument.wordprocessingml.document" });

      // Create a download link
      const downloadLink = document.createElement("a");
      downloadLink.href = URL.createObjectURL(blob);
      downloadLink.download = "SALN_{{user_profile.last_name}}.docx"; // Replace with your desired file name

      // Trigger a click event on the link to start the download
      downloadLink.click();

      // Clean up the URL object after download
      URL.revokeObjectURL(downloadLink.href);
    });//END

}

function variousYears(el, targetInput){
  var pp_year_acquired = document.getElementById(targetInput);
  if (el.checked){
    pp_year_acquired.value = "VARIOUS YEARS";
    pp_year_acquired.readOnly = true;
  }else{
    pp_year_acquired.value = "";
    pp_year_acquired.readOnly = false;
  }
}

function year_only (el) {
  const inputString = el.value;
  const cleanedString = inputString.replace(/\s+/g, ' ').trim();

  if(cleanedString.toLowerCase() != "various years"){
    if (el.value.length != 4 ) {
      //el.value = el.value.slice(0,4); 
      el.value = ""; 
      triggerToast('Please input "VARIOUS YEARS" or year only!', 'warning');
    }
  }
}

function year_only_2(el) {
  if (isNaN(el.value)) {
    el.value = "";
  }
  if (el.value.length > 4) {
      el.value = el.value.slice(0,4); 
      triggerToast('Please input year only!', 'warning');
  }
}


document.getElementById('saln_rp_form').addEventListener("submit", (e)=>{
  e.preventDefault();

  loadingScreen('block');

  let formData1 = new FormData(e.target);

  const data1 = {}
  formData1.forEach((value, key) => (data1[key] = value));

  fetch('/saln/add-rp/{{user_profile.id}}', {
    method: 'POST',
    body: formData1
    }).then((res)=>{
      if (res.status == 200){
		    loadingScreen('none');

        triggerToast("Successfully Added Real Property!", 'success');
        
        clearFields("saln_rp_form");

        if ($.fn.DataTable.isDataTable('#rp_table')) {
          $('#rp_table').DataTable().destroy();
        }
  
        fetchData('rp')
        .then((data) => {
          
          var rp_table_col = [
          { "data" : "id" },
          { "data" : "rp_acquisition_cost" },
          { "data" : "rp_acquisition_mode" },
          { "data" : "rp_acquisition_year" },
          { "data" : "rp_assessed_value" },
          { "data" : "rp_current_market_value" },
          { "data" : "rp_description" },
          { "data" : "rp_exact_location" },
          { "data" : "rp_kind" },
          { "data" : null,
          searchable: false,
          render: function ( data, type, row ) {
            return `
                <button type="button" class="btn btn-sm btn-primary" id="${data.id}" data-bs-toggle="modal" data-bs-target="#viewRealProperty" onclick="editRp(this.id, 'rp'); toggleAccordion('collapseRp');" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Real Property</b></u>">
                  <i class="far fa-edit"></i>
                </button>
                <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'rp')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Real Property</b></u>">
                  <i class="far fa-trash-alt"></i>
                </button>`
        }
      }];
  
          loadTable('rp_table', rp_table_col, data);
  
        })
        .catch((error) => {
          console.error('Error fetching data:', error);
        });

      }
      return res.json()
    
    }).then((data)=>{


    });//END

})

document.getElementById('saln_edit_rp_form').addEventListener("submit", (e)=>{
  e.preventDefault();
  loadingScreen('block');

  let formData1 = new FormData(e.target);

  const data1 = {}

  formData1.append('type', 'rp');
  formData1.forEach((value, key) => (data1[key] = value));

  //console.log(data1);

  fetch('/saln/test', {
    method: 'POST',
    body: JSON.stringify(data1)
  }).then(response => {
    //handle response            
    if(response.ok){
		  loadingScreen('none');

      clearFields("saln_edit_rp_form");
      disableFields("saln_edit_rp_form", true);


      if ($.fn.DataTable.isDataTable('#rp_table')) {
        $('#rp_table').DataTable().destroy();
      }


      fetchData('rp')
        .then((data) => {
          var rp_table_col = [
          { "data" : "id" },
          { "data" : "rp_description" },
          { "data" : "rp_kind" },
          { "data" : "rp_exact_location" },
          { "data" : "rp_assessed_value" },
          { "data" : "rp_current_market_value" },
          { "data" : "rp_acquisition_year" },
          { "data" : "rp_acquisition_mode" },
          { "data" : "rp_acquisition_cost" },
          { "data" : null,
          searchable: false,
        render: function ( data, type, row ) {
          //console.log(data.id)
            return `
                  <button type="button" class="btn btn-sm btn-primary" id="${data.id}" data-bs-toggle="modal" data-bs-target="#viewRealProperty" onclick="editRp(this.id, 'rp'); toggleAccordion('collapseRp');" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Real Property</b></u>">
                    <i class="far fa-edit"></i>
                  </button>
                  <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'rp')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Real Property</b></u>">
                    <i class="far fa-trash-alt"></i>
                  </button>`
          }
        }
          ]

        loadTable('rp_table', rp_table_col, data);
        triggerToast("Real Property updated successfully!", 'success');


      })
      .catch((error) => {
        console.error('Error fetching data:', error);
      });


    }
  })

});


document.getElementById('saln_pp_form').addEventListener("submit", (e)=>{
  e.preventDefault();
  loadingScreen('block');

  let formData1 = new FormData(e.target);

  const data1 = {}
  formData1.forEach((value, key) => (data1[key] = value));

  fetch('/saln/add-pp/{{user_profile.id}}', {
    method: 'POST',
    body: formData1
    }).then((res)=>{
      if (res.status == 200){
		    loadingScreen('none');
        document.getElementById("pp_year_acquired").readOnly = false;
        triggerToast("Successfully Added Personal Property!", 'success')
        clearFields("saln_pp_form");
  
        if ($.fn.DataTable.isDataTable('#pp_table')) {
          $('#pp_table').DataTable().destroy();
        }
  
        fetchData('pp')
        .then((data) => {
          console.log("====>>",data)
        var pp_table_col = [
        { "data" : "id" },
        { "data" : "pp_description" },
        { "data" : "pp_year_acquired" },
        { "data" : "pp_acquisition_cost" },
        { "data" : null,
        searchable: false,
        render: function ( data, type, row ) {
            return `
            <button type="button" class="btn btn-sm btn-primary" id="${data.id}" onclick="editPp(this.id, 'pp'); toggleAccordion('collapsePp');" data-bs-toggle="tooltip" data-bs-html="true" data-bs-toggle="modal" data-bs-target="#viewPersonalProperty" title="<em>Edit</em> <u><b>Personal Property</b></u>">
              <i class="far fa-edit"></i>
            </button>
            <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'pp')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Personal Property</b></u>">
              <i class="far fa-trash-alt"></i>
            </button>`
          }
        }];
      
          loadTable('pp_table', pp_table_col, data);
      
        })
        .catch((error) => {
          throw error;
        });

      }
      return res.json()
    
    }).then((data)=>{


    });//END

})

document.getElementById('saln_edit_pp_form').addEventListener("submit", (e)=>{
  e.preventDefault();
  loadingScreen('block');

  let formData1 = new FormData(e.target);

  const data1 = {}

  formData1.append('type', 'pp');
  formData1.forEach((value, key) => (data1[key] = value));

  //console.log(data1);

  fetch('/saln/test', {
    method: 'POST',
    body: JSON.stringify(data1)
  }).then(response => {
    //handle response            
    if(response.ok){
		  loadingScreen('none');
      clearFields("saln_edit_pp_form");
      disableFields("saln_edit_pp_form", true);


      if ($.fn.DataTable.isDataTable('#pp_table')) {
        $('#pp_table').DataTable().destroy();
      }

      fetchData('pp')
      .then((data) => {
        console.log("====>>",data)
      var pp_table_col = [
      { "data" : "id" },
      { "data" : "pp_description" },
      { "data" : "pp_year_acquired" },
      { "data" : "pp_acquisition_cost" },
      { "data" : null,
      searchable: false,
      render: function ( data, type, row ) {
          return `
          <button type="button" class="btn btn-sm btn-primary" id="${data.id}" onclick="editPp(this.id, 'pp'); toggleAccordion('collapsePp');" data-bs-toggle="modal" data-bs-target="#viewPersonalProperty" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Personal Property</b></u>">
            <i class="far fa-edit"></i>
          </button>
          <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'pp')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Personal Property</b></u>">
            <i class="far fa-trash-alt"></i>
          </button>`
        }
      }];
    
        loadTable('pp_table', pp_table_col, data);
    
      })
      .catch((error) => {
        throw error;
      });


    }
  })
});



document.getElementById('saln_liability_form').addEventListener("submit", (e)=>{
  e.preventDefault();
  loadingScreen('block');

  let formData1 = new FormData(e.target);

  const data1 = {}
  formData1.forEach((value, key) => (data1[key] = value));

  fetch('/saln/add-liability/{{user_profile.id}}', {
    method: 'POST',
    body: formData1
    }).then((res)=>{
      if (res.status == 200){
		    loadingScreen('none');

        triggerToast("Successfully Added Liability!", 'success')
        clearFields("saln_liability_form");
  
        if ($.fn.DataTable.isDataTable('#liability_table')) {
          $('#liability_table').DataTable().destroy();
        }
  
        fetchData('liability')
        .then((data) => {
          
          var liability_table_col = [
          { "data" : "id" },
          { "data" : "liability_nature" },
          { "data" : "liability_creditor" },
          { "data" : "liability_outstanding_balance" },
          { "data" : null,
            searchable: false,
            render: function ( data, type, row ) {
                return `
                <button type="button" class="btn btn-sm btn-primary" id="${data.id}" onclick="editLiability(this.id, 'liability'); toggleAccordion('collapseLiability');" data-bs-toggle="modal" data-bs-target="#viewLiabilities" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Liability</b></u>">
                  <i class="far fa-edit"></i>
                </button>
                <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'liability')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Liability</b></u>">
                  <i class="far fa-trash-alt"></i>
                </button>`
              }
          }];
        
            loadTable('liability_table', liability_table_col, data);
      
        })
        .catch((error) => {
          throw error;
        });
  
      }
      return res.json()
    
    }).then((data)=>{


    });//END

})

document.getElementById('saln_edit_liability_form').addEventListener("submit", (e)=>{
  e.preventDefault();
  loadingScreen('block');

  let formData1 = new FormData(e.target);

  const data1 = {}

  formData1.append('type', 'liability');
  formData1.forEach((value, key) => (data1[key] = value));

  fetch('/saln/test', {
    method: 'POST',
    body: JSON.stringify(data1)
  }).then(response => {
    //handle response            
    if(response.ok){
		  loadingScreen('none');
      clearFields("saln_edit_liability_form");
      disableFields("saln_edit_liability_form", true);

      if ($.fn.DataTable.isDataTable('#liability_table')) {
        $('#liability_table').DataTable().destroy();
      }

      fetchData('liability')
      .then((data) => {
        
        var liability_table_col = [
        { "data" : "id" },
        { "data" : "liability_nature" },
        { "data" : "liability_creditor" },
        { "data" : "liability_outstanding_balance" },
        { "data" : null,
          searchable: false,
          render: function ( data, type, row ) {
              return `
              <button type="button" class="btn btn-sm btn-primary" id="${data.id}" onclick="editLiability(this.id, 'liability'); toggleAccordion('collapseLiability');" data-bs-toggle="modal" data-bs-target="#viewLiabilities" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Liability</b></u>">
                <i class="far fa-edit"></i>
              </button>
              <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'liability')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Liability</b></u>">
                <i class="far fa-trash-alt"></i>
              </button>`
            }
        }];
      
          loadTable('liability_table', liability_table_col, data);
    
      })
      .catch((error) => {
        throw error;
      });


    }
  })
});



document.getElementById('saln_business_interest_form').addEventListener("submit", (e)=>{
  e.preventDefault();

  loadingScreen('block');


  let formData1 = new FormData(e.target);

  const data1 = {}
  formData1.forEach((value, key) => (data1[key] = value));

  fetch('/saln/add-business-interest/{{user_profile.id}}', {
    method: 'POST',
    body: formData1
    }).then((res)=>{
      if (res.status == 200){
		    loadingScreen('none');

        triggerToast("Successfully Added Business Interest & Financial Connection!", 'success')
        clearFields("saln_business_interest_form");
  
        if ($.fn.DataTable.isDataTable('#business_table')) {
          $('#business_table').DataTable().destroy();
        }
  
        fetchData('business')
        .then((data) => {
  
          var business_table_col = [
          { "data" : "id" },
          { "data" : "business" },
          { "data" : "business_address" },
          { "data" : "business_nature" },
          { "data" : "business_acquisition" },
          { "data" : null,
            searchable: false,
            render: function ( data, type, row ) {
                return `
                <button type="button" class="btn btn-sm btn-primary" id="${data.id}" onclick="editBusiness(this.id, 'business'); toggleAccordion('collapseBusiness');" data-bs-toggle="modal" data-bs-target="#viewBusiness" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Business Interest</b></u>">
                  <i class="far fa-edit"></i>
                </button>
                <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'business')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Business Interest</b></u>">
                  <i class="far fa-trash-alt"></i>
                </button>`
              }
          }];
      
          loadTable('business_table', business_table_col, data);
      
        })
        .catch((error) => {
          throw error;
        });
      }
      return res.json()
    
    }).then((data)=>{


    });//END

})


document.getElementById('saln_edit_business_form').addEventListener("submit", (e)=>{
  e.preventDefault();
  loadingScreen('block');

  let formData1 = new FormData(e.target);

  const data1 = {}

  formData1.append('type', 'business');
  formData1.forEach((value, key) => (data1[key] = value));

  //console.log(data1);

  fetch('/saln/test', {
    method: 'POST',
    body: JSON.stringify(data1)
  }).then(response => {
    //handle response            
    if(response.ok){
		  loadingScreen('none');
      clearFields("saln_edit_business_form");
      disableFields("saln_edit_business_form", true);


      if ($.fn.DataTable.isDataTable('#business_table')) {
        $('#business_table').DataTable().destroy();
      }

      fetchData('business')
      .then((data) => {

        var business_table_col = [
        { "data" : "id" },
        { "data" : "business" },
        { "data" : "business_address" },
        { "data" : "business_nature" },
        { "data" : "business_acquisition" },
        { "data" : null,
          searchable: false,
          render: function ( data, type, row ) {
              return `
              <button type="button" class="btn btn-sm btn-primary" id="${data.id}" onclick="editBusiness(this.id, 'business'); toggleAccordion('collapseBusiness');" data-bs-toggle="modal" data-bs-target="#viewBusiness" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Business Interest</b></u>">
                <i class="far fa-edit"></i>
              </button>
              <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'business')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Business Interest</b></u>">
                <i class="far fa-trash-alt"></i>
              </button>`
            }
        }];
    
        loadTable('business_table', business_table_col, data);
    
      })
      .catch((error) => {
        throw error;
      });


    }
  })
});



document.getElementById('saln_relative_in_government_form').addEventListener("submit", (e)=>{
  e.preventDefault();

  loadingScreen('block');


  let formData1 = new FormData(e.target);

  const data1 = {}
  formData1.forEach((value, key) => (data1[key] = value));

  fetch('/saln/add-relative-in-government/{{user_profile.id}}', {
    method: 'POST',
    body: formData1
    }).then((res)=>{
      if (res.status == 200){
		    loadingScreen('none');

        triggerToast("Successfully Added Relative in Government!", 'success');
        clearFields("saln_relative_in_government_form");
  
        if ($.fn.DataTable.isDataTable('#relative_table')) {
          $('#relative_table').DataTable().destroy();
        }
  
        fetchData('relative')
        .then((data) => {
          
        var relative_table_col = [
        { "data" : "id" },
        { "data" : "relative_name" },
        { "data" : "relative_relationship" },
        { "data" : "relative_position" },
        { "data" : null,
          render: function ( data, type, row ) {
            return `${data.relative_agency_office} / ${data.relative_agency_office_address}`
          }
        },
        { "data" : null,
          searchable: false,
          render: function ( data, type, row ) {
              return `
              <button type="button" class="btn btn-sm btn-primary" id="${data.id}" onclick="editRelative(this.id, 'relative'); toggleAccordion('collapseRp');" data-bs-toggle="modal" data-bs-target="#viewRelative" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Relative in the Government Service</b></u>">
                <i class="far fa-edit"></i>
              </button>
              <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'relative')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Relative in the Government Service</b></u>">
                <i class="far fa-trash-alt"></i>
              </button>`
            }
        }];
  
          
          loadTable('relative_table', relative_table_col, data);
  
        })
        .catch((error) => {
          console.error('Error fetching data:', error);
        });
  

      }
      return res.json()
    
    }).then((data)=>{


    });//END

})


document.getElementById('edit_saln_relative_in_government_form').addEventListener("submit", (e)=>{
  e.preventDefault();

		loadingScreen('block');
    let formData1 = new FormData(e.target);

  const data1 = {}

  formData1.append('type', 'relative');
  formData1.forEach((value, key) => (data1[key] = value));

  //console.log(data1);

  fetch('/saln/test', {
    method: 'POST',
    body: JSON.stringify(data1)
  }).then(response => {
    //handle response            
    if(response.ok){
		  loadingScreen('none');
      clearFields("edit_saln_relative_in_government_form");
      disableFields("edit_saln_relative_in_government_form", true);

      if ($.fn.DataTable.isDataTable('#relative_table')) {
        $('#relative_table').DataTable().destroy();
      }

      fetchData('relative')
      .then((data) => {
        
      var relative_table_col = [
      { "data" : "id" },
      { "data" : "relative_name" },
      { "data" : "relative_relationship" },
      { "data" : "relative_position" },
      { "data" : null,
        render: function ( data, type, row ) {
          return `${data.relative_agency_office} / ${data.relative_agency_office_address}`
        }
      },
      { "data" : null,
        searchable: false,
        render: function ( data, type, row ) {
            return `
            <button type="button" class="btn btn-sm btn-primary" id="${data.id}" onclick="editRelative(this.id, 'relative'); toggleAccordion('collapseRp');" data-bs-toggle="modal" data-bs-target="#viewRelative" data-bs-toggle="tooltip" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Edit</em> <u><b>Relative in the Government</b></u>">
              <i class="far fa-edit"></i>
            </button>
            <button type="button" class="btn btn-sm btn-danger" id="${data.id}" onclick="deleteData(this.id, 'relative')" data-bs-toggle="tooltip" data-bs-html="true" title="<em>Delete</em> <u><b>Relative in the Government</b></u>">
              <i class="far fa-trash-alt"></i>
            </button>`
          }
      }];

        
        loadTable('relative_table', relative_table_col, data);

      })
      .catch((error) => {
        console.error('Error fetching data:', error);
      });


    }
  })

});

</script>
{%endblock%}